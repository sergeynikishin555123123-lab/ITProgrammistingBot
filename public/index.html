<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>üé® Art School | –ö–∞–±–∏–Ω–µ—Ç —É—á–µ–Ω–∏–∫–∞</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&family=Caveat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@400;700&family=Dancing+Script:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
/* ==================== –ü–û–õ–ù–´–ï –°–¢–ò–õ–ò –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø ==================== */

/* –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —Ü–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞ */
:root {
    --canvas-bg: #FFFBF0;
    --canvas-light: #FFFFF8;
    --sketch-dark: #2C2416;
    --sketch-medium: #5A4A3A;
    --sketch-light: #8A7A6A;
    
    /* –•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∞–∫—Ü–µ–Ω—Ç–Ω—ã–µ —Ü–≤–µ—Ç–∞ */
    --acrylic-blue: #4A77B4;
    --acrylic-blue-light: #E8F0FE;
    --acrylic-blue-dark: #3A5B8C;
    
    --watercolor-purple: #9C6ADE;
    --watercolor-purple-light: #F3EDFC;
    
    --oil-yellow: #FFC145;
    --oil-yellow-light: #FFF8E1;
    
    --pastel-orange: #FF9A3D;
    --pastel-green: #5CAF7A;
    --pastel-green-light: #E8F5E9;
    --pastel-red: #F45B5B;
    --pastel-red-light: #FFEBEE;
    
    --gold-leaf: #D4AF37;
    --gold-light: #FBF3D9;
    
    --clay-terracotta: #CC6B4A;
    --ink-black: #2C2C2C;
    
    /* –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ç–∞—Ç—É—Å–æ–≤ */
    --success: var(--pastel-green);
    --warning: var(--pastel-orange);
    --error: var(--pastel-red);
    --info: var(--acrylic-blue);
    
    /* –û—Å–Ω–æ–≤–Ω—ã–µ –∞–∫—Ü–µ–Ω—Ç—ã */
    --primary-accent: var(--acrylic-blue);
    --primary-accent-dark: var(--acrylic-blue-dark);
    --secondary-accent: var(--watercolor-purple);
    --secondary-accent-light: var(--watercolor-purple-light);
    --action-color: var(--oil-yellow);
    --action-dark: #E6A932;
    --highlight-color: var(--gold-leaf);
    
    /* –§–æ–Ω—ã */
    --card-bg: var(--canvas-light);
    --card-hover-bg: #FFFEF9;
    
    /* –ì—Ä–∞–¥–∏–µ–Ω—Ç—ã */
    --primary-gradient: linear-gradient(135deg, var(--acrylic-blue), var(--acrylic-blue-dark));
    --artistic-gradient: linear-gradient(135deg, #4A77B4, #9C6ADE, #FF9A3D);
    --gold-gradient: linear-gradient(135deg, var(--gold-leaf), #F7C948);
    --canvas-gradient: linear-gradient(to bottom, #FFFBF0, #F5F1E6);
    
    /* –¢–µ–Ω–∏ */
    --shadow-sm: 0 2px 8px rgba(44, 36, 22, 0.06);
    --shadow: 0 4px 16px rgba(44, 36, 22, 0.1);
    --shadow-lg: 0 8px 32px rgba(44, 36, 22, 0.12);
    --shadow-xl: 0 20px 40px rgba(44, 36, 22, 0.15);
    --artistic-shadow: 0 4px 20px rgba(156, 106, 222, 0.2);
    
    /* –°–∫—Ä—É–≥–ª–µ–Ω–∏—è */
    --radius-sm: 8px;
    --radius: 12px;
    --radius-lg: 16px;
    --radius-xl: 20px;
    --radius-full: 9999px;
    --organic-radius: 20px 8px 20px 8px;
    
    /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
    --transition-fast: 0.15s ease;
    --transition: 0.25s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: 0.4s ease;
    
    /* –†–∞–∑–º–µ—Ä—ã */
    --nav-height: 70px;
    --bottom-nav-height: 60px;
}

/* –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    -webkit-tap-highlight-color: transparent;
}

html, body {
    font-family: 'Inter', sans-serif;
    background: var(--canvas-bg);
    color: var(--sketch-dark);
    line-height: 1.6;
    min-height: 100vh;
    font-weight: 400;
    padding-top: var(--nav-height);
    padding-bottom: var(--bottom-nav-height);
    overflow-x: hidden;
    max-width: 100%;
    position: relative;
    font-size: 16px;
    background-image: 
        radial-gradient(circle at 15% 50%, rgba(156, 106, 222, 0.05) 0%, transparent 20%),
        radial-gradient(circle at 85% 30%, rgba(255, 193, 69, 0.05) 0%, transparent 20%);
}

/* –•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç—É—Ä—ã */
body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%239C6ADE' fill-opacity='0.03' fill-rule='evenodd'/%3E%3C/svg%3E");
    pointer-events: none;
    z-index: -1;
}

.container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 16px;
    width: 100%;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã */
@media (min-width: 1400px) {
    .container { max-width: 1320px; }
}

@media (max-width: 1200px) {
    .container { max-width: 1140px; }
}

@media (max-width: 992px) {
    .container { max-width: 960px; }
    html, body { font-size: 15px; }
}

@media (max-width: 768px) {
    .container { max-width: 720px; }
    html, body { font-size: 14px; }
    .container { padding: 0 12px; }
}

@media (max-width: 576px) {
    .container { max-width: 540px; }
    html, body { font-size: 14px; }
    .container { padding: 0 10px; }
}

/* ==================== –ù–ê–í–ò–ì–ê–¶–ò–Ø ==================== */
.top-nav {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: var(--nav-height);
    background: rgba(255, 251, 240, 0.95);
    border-bottom: 2px solid var(--acrylic-blue);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 20px;
    z-index: 1000;
    backdrop-filter: blur(10px);
    box-shadow: 0 2px 20px rgba(74, 119, 180, 0.1);
}

/* –õ–æ–≥–æ—Ç–∏–ø —Å –∫–∞—Ä—Ç–∏–Ω–æ–π –î–∞–ª–∏ */
.logo-container {
    display: flex;
    align-items: center;
    gap: 12px;
    text-decoration: none;
    height: 100%;
}

.logo-frame {
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: white;
    border-radius: var(--radius);
    padding: 4px;
    border: 3px solid var(--acrylic-blue);
    box-shadow: var(--artistic-shadow);
    position: relative;
    overflow: hidden;
}

.logo-frame::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(45deg, transparent 40%, rgba(255, 255, 255, 0.3) 50%, transparent 60%);
    animation: brushStroke 3s infinite linear;
}

.logo-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 4px;
    background: linear-gradient(135deg, #4A77B4, #9C6ADE, #FF9A3D);
}

.logo-text-container {
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.logo-main-text {
    display: flex;
    align-items: center;
    gap: 4px;
    font-family: 'Caveat', cursive;
    font-weight: 700;
    line-height: 1;
    font-size: 1.8rem;
}

.logo-art {
    font-size: 1.8rem;
    color: var(--acrylic-blue);
    text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
}

.logo-school {
    font-size: 1.8rem;
    color: var(--watercolor-purple);
    text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
}

.logo-tagline {
    font-size: 0.75rem;
    color: var(--sketch-medium);
    font-weight: 500;
    margin-top: 2px;
    white-space: nowrap;
    font-family: 'Dancing Script', cursive;
}

/* –ê–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ú–æ–Ω–∞ –õ–∏–∑–æ–π */
.user-avatar {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--acrylic-blue), var(--watercolor-purple));
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 700;
    font-size: 1.2rem;
    cursor: pointer;
    flex-shrink: 0;
    border: 3px solid white;
    transition: var(--transition);
    box-shadow: var(--shadow-sm);
    overflow: hidden;
    position: relative;
}

.user-avatar::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(45deg, transparent 40%, rgba(255, 255, 255, 0.3) 50%, transparent 60%);
    animation: brushStroke 3s infinite linear;
}

.user-avatar:hover {
    transform: scale(1.05) rotate(5deg);
    box-shadow: var(--shadow);
}

.user-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 50%;
    position: relative;
    z-index: 1;
}

/* –ú–µ–Ω—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è */
.user-menu {
    display: none;
    position: absolute;
    top: 70px;
    right: 15px;
    background: white;
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-lg);
    width: 280px;
    z-index: 1000;
    border: 2px solid var(--acrylic-blue);
    animation: fadeIn 0.2s ease;
    overflow: hidden;
}

.user-menu::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: var(--artistic-gradient);
}

.nav-menu-item {
    display: flex;
    align-items: center;
    padding: 12px 16px;
    text-decoration: none;
    color: var(--sketch-dark);
    border-radius: var(--radius-sm);
    transition: var(--transition-fast);
    gap: 12px;
    width: 100%;
    position: relative;
    overflow: hidden;
}

.nav-menu-item::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 4px;
    background: var(--acrylic-blue);
    transform: translateX(-100%);
    transition: transform 0.3s ease;
}

.nav-menu-item:hover::before {
    transform: translateX(0);
}

.nav-menu-item:hover {
    background: var(--acrylic-blue-light);
    padding-left: 20px;
}

/* –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Å —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –∏–∫–æ–Ω–∫–∞–º–∏ */
.bottom-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    height: var(--bottom-nav-height);
    background: rgba(255, 251, 240, 0.95);
    border-top: 2px solid var(--acrylic-blue);
    display: flex;
    justify-content: space-around;
    align-items: center;
    padding: 0 5px;
    z-index: 1000;
    backdrop-filter: blur(10px);
    box-shadow: 0 -2px 20px rgba(74, 119, 180, 0.1);
}

.nav-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    color: var(--sketch-medium);
    padding: 8px;
    border-radius: var(--organic-radius);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    min-width: 60px;
    cursor: pointer;
    flex: 1;
    max-width: 100px;
    position: relative;
    overflow: hidden;
}

.nav-item::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--acrylic-blue);
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: -1;
}

.nav-item.active {
    color: white;
    background: var(--acrylic-blue);
    transform: translateY(-5px);
    box-shadow: var(--artistic-shadow);
}

.nav-item.active::before {
    opacity: 1;
}

.nav-item:hover:not(.active) {
    color: var(--acrylic-blue);
    background: var(--acrylic-blue-light);
    transform: translateY(-2px);
}

.nav-item i {
    font-size: 1.3rem;
    margin-bottom: 4px;
    transition: transform 0.3s ease;
}

.nav-item.active i {
    transform: scale(1.1);
}

.nav-item span {
    font-size: 0.75rem;
    font-weight: 600;
    white-space: nowrap;
    font-family: 'Inter', sans-serif;
}

/* ==================== –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ ==================== */
.page {
    display: none;
    animation: fadeIn 0.3s ease;
    min-height: calc(100vh - var(--nav-height) - var(--bottom-nav-height));
    padding: 20px 0;
    width: 100%;
}

.page.active {
    display: block;
}

.section {
    margin-bottom: 30px;
    width: 100%;
}

.section-title {
    font-family: 'Playfair Display', serif;
    font-size: 2rem;
    font-weight: 700;
    color: var(--sketch-dark);
    margin-bottom: 20px;
    position: relative;
    padding-bottom: 10px;
}

.section-title::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 60px;
    height: 4px;
    background: var(--artistic-gradient);
    border-radius: 2px;
}

.section-subtitle {
    font-size: 1.1rem;
    color: var(--sketch-medium);
    margin-bottom: 24px;
    line-height: 1.5;
    font-family: 'Inter', sans-serif;
}

/* –•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ */
.card {
    background: var(--card-bg);
    border-radius: var(--radius-lg);
    padding: 24px;
    border: 2px solid var(--acrylic-blue);
    box-shadow: var(--shadow);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    width: 100%;
    position: relative;
    overflow: hidden;
}

.card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: var(--artistic-gradient);
}

.card:hover {
    background: var(--card-hover-bg);
    transform: translateY(-6px) rotate(1deg);
    box-shadow: var(--shadow-xl);
    border-color: var(--watercolor-purple);
}

/* ==================== –ö–ù–û–ü–ö–ò –í –•–£–î–û–ñ–ï–°–¢–í–ï–ù–ù–û–ú –°–¢–ò–õ–ï ==================== */
.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    padding: 14px 28px;
    border: none;
    border-radius: var(--organic-radius);
    font-family: 'Inter', sans-serif;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    text-decoration: none;
    text-align: center;
    position: relative;
    overflow: hidden;
    z-index: 1;
}

.btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(45deg, transparent 40%, rgba(255, 255, 255, 0.3) 50%, transparent 60%);
    background-size: 200% 100%;
    animation: brushStroke 3s infinite linear;
    z-index: -1;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.btn:hover::before {
    opacity: 1;
}

.btn:active {
    transform: translateY(0) scale(0.98) !important;
}

.btn-primary {
    background: var(--primary-gradient);
    color: white;
    box-shadow: 0 4px 15px rgba(74, 119, 180, 0.3);
    border: 2px solid var(--acrylic-blue-dark);
}

.btn-primary:hover {
    transform: translateY(-3px) scale(1.02);
    box-shadow: 0 8px 25px rgba(74, 119, 180, 0.4);
    background: linear-gradient(135deg, var(--acrylic-blue-dark), var(--acrylic-blue));
}

.btn-secondary {
    background: var(--canvas-light);
    color: var(--acrylic-blue);
    border: 2px solid var(--acrylic-blue);
    box-shadow: 0 4px 12px rgba(74, 119, 180, 0.1);
}

.btn-secondary:hover {
    background: var(--acrylic-blue-light);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(74, 119, 180, 0.2);
}

.btn-artistic {
    background: var(--artistic-gradient);
    color: white;
    border: 2px solid var(--watercolor-purple);
    box-shadow: 0 4px 15px rgba(156, 106, 222, 0.3);
}

.btn-artistic:hover {
    transform: translateY(-3px) scale(1.02);
    box-shadow: 0 8px 25px rgba(156, 106, 222, 0.4);
}

.btn-success {
    background: linear-gradient(135deg, var(--pastel-green), #4A9D6A);
    color: white;
    border: 2px solid var(--pastel-green);
    box-shadow: 0 4px 15px rgba(92, 175, 122, 0.3);
}

.btn-success:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(92, 175, 122, 0.4);
}

.btn-warning {
    background: linear-gradient(135deg, var(--pastel-orange), #E68A3D);
    color: white;
    border: 2px solid var(--pastel-orange);
}

.btn-warning:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(255, 154, 61, 0.4);
}

/* ==================== HERO –°–ï–ö–¶–ò–Ø –í –•–£–î–û–ñ–ï–°–¢–í–ï–ù–ù–û–ú –°–¢–ò–õ–ï ==================== */
.hero {
    background: linear-gradient(135deg, rgba(74, 119, 180, 0.15), rgba(156, 106, 222, 0.1), rgba(255, 154, 61, 0.05));
    border-radius: var(--radius-xl);
    padding: 40px;
    margin-bottom: 40px;
    text-align: center;
    position: relative;
    overflow: hidden;
    border: 3px solid var(--acrylic-blue);
    box-shadow: var(--shadow-lg);
}

.hero::before {
    content: '';
    position: absolute;
    top: -50%;
    right: -30%;
    width: 300px;
    height: 300px;
    background: radial-gradient(circle, rgba(156, 106, 222, 0.1) 0%, transparent 70%);
    z-index: 0;
}

.hero::after {
    content: '';
    position: absolute;
    bottom: -40%;
    left: -20%;
    width: 250px;
    height: 250px;
    background: radial-gradient(circle, rgba(255, 193, 69, 0.1) 0%, transparent 70%);
    z-index: 0;
}

.hero-content {
    position: relative;
    z-index: 1;
}

.hero h1 {
    font-family: 'Playfair Display', serif;
    font-size: 3rem;
    font-weight: 700;
    margin-bottom: 16px;
    color: var(--sketch-dark);
    line-height: 1.2;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
}

.hero .tagline {
    font-size: 2rem;
    color: var(--acrylic-blue);
    font-weight: 600;
    margin-bottom: 24px;
    font-family: 'Dancing Script', cursive;
}

.hero p {
    font-size: 1.2rem;
    color: var(--sketch-medium);
    margin-bottom: 32px;
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
    line-height: 1.6;
}

.hero-actions {
    display: flex;
    gap: 16px;
    justify-content: center;
    flex-wrap: wrap;
}

/* ==================== –ö–ê–†–¢–û–ß–ö–ò –ö–ê–¢–ï–ì–û–†–ò–ô –í –•–£–î–û–ñ–ï–°–¢–í–ï–ù–ù–û–ú –°–¢–ò–õ–ï ==================== */
.category-card-main-style {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 25px 20px;
    background: var(--card-bg);
    border-radius: var(--radius-lg);
    border: 2px solid var(--acrylic-blue);
    box-shadow: var(--shadow);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
    position: relative;
    overflow: hidden;
    height: 100%;
    text-align: center;
    animation: fadeIn 0.5s ease;
    min-height: 300px;
}

.category-card-main-style::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: var(--artistic-gradient);
}

.category-card-main-style:hover {
    transform: translateY(-8px) rotate(1deg);
    box-shadow: var(--shadow-xl);
    border-color: var(--watercolor-purple);
    background: var(--card-hover-bg);
}

.category-image-main {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    margin: 0 auto 20px;
    overflow: hidden;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    background: var(--artistic-gradient);
    border: 4px solid white;
    box-shadow: var(--shadow);
    z-index: 1;
}

.category-image-main::before {
    content: '';
    position: absolute;
    top: -4px;
    left: -4px;
    right: -4px;
    bottom: -4px;
    background: var(--artistic-gradient);
    border-radius: 50%;
    z-index: -1;
    animation: rotate 20s linear infinite;
}

.category-image-main img {
    width: 90%;
    height: 90%;
    object-fit: cover;
    border-radius: 50%;
    display: block;
    transition: transform 0.5s ease;
    position: relative;
    z-index: 1;
}

.category-card-main-style:hover .category-image-main img {
    transform: scale(1.1) rotate(5deg);
}

.category-card-main-style h3 {
    font-size: 1.3rem;
    font-weight: 600;
    margin-bottom: 12px;
    color: var(--sketch-dark);
    text-align: center;
    width: 100%;
    line-height: 1.4;
    height: auto;
    min-height: 42px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0 5px;
    font-family: 'Playfair Display', serif;
}

.category-description-main {
    color: var(--sketch-medium);
    font-size: 0.9rem;
    line-height: 1.5;
    flex-grow: 1;
    background: var(--acrylic-blue-light);
    padding: 15px;
    border-radius: var(--radius);
    width: 100%;
    max-height: 100px;
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    text-overflow: ellipsis;
    margin-bottom: 20px;
    border: 1px solid rgba(74, 119, 180, 0.2);
    position: relative;
}

.category-description-main::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: var(--acrylic-blue);
}

/* –§—É—Ç–µ—Ä –∫–∞—Ä—Ç–æ—á–∫–∏ */
.category-card-footer {
    margin-top: auto;
    color: var(--acrylic-blue);
    font-weight: 600;
    font-size: 0.85rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    padding: 0 5px;
    gap: 8px;
}

.category-card-footer .category-name {
    color: var(--sketch-medium);
    font-weight: 500;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    flex: 1;
    text-align: left;
    font-size: 0.85rem;
}

.category-card-footer .select-action {
    display: flex;
    align-items: center;
    gap: 6px;
    color: var(--acrylic-blue);
    font-weight: 600;
    white-space: nowrap;
    flex-shrink: 0;
    transition: gap 0.3s ease;
}

.category-card-footer .fa-arrow-right {
    color: var(--acrylic-blue);
    font-size: 0.8rem;
    transition: all 0.3s ease;
}

.category-card-main-style:hover .select-action {
    gap: 10px;
}

.category-card-main-style:hover .fa-arrow-right {
    transform: translateX(5px) rotate(-10deg);
    color: var(--watercolor-purple);
}

/* ==================== –°–ï–¢–ö–ò ==================== */
.grid {
    display: grid;
    gap: 25px;
    width: 100%;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Å–µ—Ç–∫–∏ */
@media (min-width: 1200px) {
    .grid-3-main, .grid-2-main, #allServicesList, #allCategoriesList {
        grid-template-columns: repeat(3, 1fr);
    }
}

@media (min-width: 768px) and (max-width: 1199px) {
    .grid-3-main, .grid-2-main, #allServicesList, #allCategoriesList {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 767px) {
    .grid-3-main, .grid-2-main, #allServicesList, #allCategoriesList {
        grid-template-columns: 1fr;
        gap: 20px;
    }
    
    .category-card-main-style {
        min-height: 280px;
        padding: 20px 15px;
    }
    
    .category-image-main {
        width: 80px;
        height: 80px;
    }
    
    .category-card-main-style h3 {
        font-size: 1.1rem;
        min-height: 36px;
    }
    
    .category-description-main {
        font-size: 0.85rem;
        padding: 12px;
        -webkit-line-clamp: 3;
    }
    
    .category-card-footer {
        font-size: 0.8rem;
        gap: 6px;
    }
}

/* ==================== –§–û–†–ú–´ –ò –ò–ù–ü–£–¢–´ ==================== */
.form-group {
    margin-bottom: 20px;
    width: 100%;
    position: relative;
}

.form-label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    color: var(--sketch-dark);
    font-family: 'Inter', sans-serif;
}

.form-input {
    width: 100%;
    padding: 14px 16px;
    border: 2px solid var(--acrylic-blue);
    border-radius: var(--radius);
    font-family: 'Inter', sans-serif;
    font-size: 1rem;
    transition: all 0.3s ease;
    background: var(--canvas-light);
    color: var(--sketch-dark);
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.05);
}

.form-input:focus {
    outline: none;
    border-color: var(--watercolor-purple);
    box-shadow: 0 0 0 3px rgba(156, 106, 222, 0.2), inset 0 2px 4px rgba(0,0,0,0.05);
    transform: translateY(-2px);
}

/* ==================== –ü–û–ò–°–ö ==================== */
.search-box {
    position: relative;
    margin-bottom: 20px;
    width: 100%;
}

.search-input {
    width: 100%;
    padding: 16px 20px 16px 50px;
    border: 2px solid var(--acrylic-blue);
    border-radius: 50px;
    font-size: 1rem;
    background: var(--canvas-light);
    transition: all 0.3s ease;
    box-shadow: var(--shadow-sm);
}

.search-input:focus {
    outline: none;
    border-color: var(--watercolor-purple);
    box-shadow: 0 0 0 3px rgba(156, 106, 222, 0.2), var(--shadow);
}

.search-icon {
    position: absolute;
    left: 20px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--acrylic-blue);
    z-index: 1;
    font-size: 1.2rem;
}

/* ==================== –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø ==================== */
.notification {
    position: fixed;
    top: 80px;
    right: 20px;
    z-index: 3000;
    background: white;
    border-radius: var(--radius-lg);
    padding: 16px 20px;
    box-shadow: var(--shadow-xl);
    border-left: 6px solid var(--acrylic-blue);
    animation: slideInDown 0.3s ease;
    display: flex;
    align-items: center;
    gap: 12px;
    max-width: 90%;
    width: 350px;
    backdrop-filter: blur(10px);
    border: 2px solid var(--acrylic-blue-light);
}

.notification.hiding {
    animation: slideOutUp 0.3s ease forwards;
}

.notification.error {
    border-left-color: var(--pastel-red);
    border-color: var(--pastel-red-light);
}

.notification.warning {
    border-left-color: var(--pastel-orange);
    border-color: var(--oil-yellow-light);
}

.notification.info {
    border-left-color: var(--acrylic-blue);
    border-color: var(--acrylic-blue-light);
}

.notification.success {
    border-left-color: var(--pastel-green);
    border-color: var(--pastel-green-light);
}

/* ==================== –ü–†–û–§–ò–õ–¨ ==================== */
.profile-header {
    background: var(--artistic-gradient);
    color: white;
    padding: 30px 20px;
    border-radius: var(--radius-xl);
    margin-bottom: 20px;
    text-align: center;
    position: relative;
    overflow: hidden;
    box-shadow: var(--shadow-lg);
}

.profile-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
    pointer-events: none;
}

.profile-avatar {
    width: 100px;
    height: 100px;
    background: white;
    border-radius: 50%;
    margin: 0 auto 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--acrylic-blue);
    font-size: 2.5rem;
    font-weight: 700;
    border: 4px solid rgba(255, 255, 255, 0.3);
    box-shadow: var(--shadow);
    overflow: hidden;
    position: relative;
}

.profile-avatar::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(45deg, transparent 40%, rgba(255, 255, 255, 0.3) 50%, transparent 60%);
    background-size: 200% 100%;
    animation: brushStroke 3s infinite linear;
}

.profile-name {
    font-size: 1.8rem;
    font-weight: 600;
    margin-bottom: 8px;
    font-family: 'Playfair Display', serif;
}

.profile-email {
    font-size: 1rem;
    opacity: 0.9;
    margin-bottom: 16px;
}

.profile-stats {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
    margin-top: 20px;
}

.stat-item {
    background: rgba(255, 255, 255, 0.15);
    padding: 12px;
    border-radius: var(--radius);
    text-align: center;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.stat-value {
    font-size: 1.4rem;
    font-weight: 700;
    margin-bottom: 4px;
}

.stat-label {
    font-size: 0.8rem;
    opacity: 0.9;
}

/* –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å —Å –ú–æ–Ω–∞ –õ–∏–∑–æ–π */
.compact-profile-header {
    background: var(--artistic-gradient);
    color: white;
    padding: 25px;
    border-radius: var(--radius-xl);
    margin-bottom: 20px;
    text-align: center;
    position: relative;
    overflow: hidden;
    box-shadow: var(--shadow-lg);
}

.compact-profile-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
    pointer-events: none;
}

.compact-profile-avatar {
    width: 100px;
    height: 100px;
    background: white;
    border-radius: 50%;
    margin: 0 auto 15px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--acrylic-blue);
    font-size: 2.5rem;
    font-weight: 700;
    border: 4px solid rgba(255, 255, 255, 0.3);
    box-shadow: var(--shadow);
    flex-shrink: 0;
    overflow: hidden;
    position: relative;
}

.compact-profile-avatar::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url('https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/Mona_Lisa%2C_by_Leonardo_da_Vinci%2C_from_C2RMF_retouched.jpg/150px-Mona_Lisa%2C_by_Leonardo_da_Vinci%2C_from_C2RMF_retouched.jpg');
    background-size: cover;
    background-position: center;
    border-radius: 50%;
    z-index: 1;
}

.compact-profile-avatar::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(45deg, transparent 40%, rgba(255, 255, 255, 0.3) 50%, transparent 60%);
    background-size: 200% 100%;
    animation: brushStroke 3s infinite linear;
    z-index: 2;
    border-radius: 50%;
}

.compact-profile-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 50%;
    display: block;
    position: relative;
    z-index: 1;
}

.compact-profile-name {
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: 4px;
    font-family: 'Playfair Display', serif;
}

.compact-profile-email {
    font-size: 1rem;
    opacity: 0.9;
    margin-bottom: 15px;
}

.compact-profile-stats {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 15px;
}

.compact-stat-item {
    text-align: center;
    min-width: 70px;
    background: rgba(255, 255, 255, 0.15);
    padding: 10px;
    border-radius: var(--radius);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.compact-stat-value {
    font-size: 1.3rem;
    font-weight: 700;
    margin-bottom: 3px;
}

.compact-stat-label {
    font-size: 0.75rem;
    opacity: 0.9;
}

/* ==================== –†–ê–°–ü–ò–°–ê–ù–ò–ï ==================== */
.schedule-day {
    margin-bottom: 20px;
}

.schedule-day-header {
    background: var(--acrylic-blue-light);
    padding: 15px 20px;
    border-radius: var(--radius);
    margin-bottom: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-left: 6px solid var(--acrylic-blue);
    box-shadow: var(--shadow-sm);
}

.schedule-day-title {
    font-weight: 600;
    color: var(--sketch-dark);
    font-size: 1.2rem;
    font-family: 'Playfair Display', serif;
}

.schedule-lesson {
    background: var(--card-bg);
    border-radius: var(--radius);
    padding: 20px;
    margin-bottom: 10px;
    border: 2px solid var(--acrylic-blue);
    transition: var(--transition);
    box-shadow: var(--shadow-sm);
    position: relative;
    overflow: hidden;
}

.schedule-lesson::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: var(--acrylic-blue);
}

.schedule-lesson:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow);
    border-color: var(--watercolor-purple);
}

.lesson-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 10px;
}

.lesson-time {
    font-weight: 700;
    color: var(--acrylic-blue);
    font-size: 1.2rem;
    font-family: 'Inter', sans-serif;
}

.lesson-status {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 16px;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 600;
    border: 1px solid;
}

.lesson-status.normal {
    background: var(--pastel-green-light);
    color: var(--pastel-green);
    border-color: var(--pastel-green);
}

.lesson-status.cancelled {
    background: var(--pastel-red-light);
    color: var(--pastel-red);
    border-color: var(--pastel-red);
}

.lesson-status.changed {
    background: var(--oil-yellow-light);
    color: #D68900;
    border-color: var(--oil-yellow);
}

.lesson-details {
    color: var(--sketch-medium);
    font-size: 0.95rem;
}

.lesson-teacher {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-top: 10px;
    color: var(--sketch-dark);
    font-weight: 500;
}

/* ==================== –ê–ë–û–ù–ï–ú–ï–ù–¢ ==================== */
.subscription-card-detailed {
    padding: 30px;
    background: var(--card-bg);
    border-radius: var(--radius-xl);
    border: 3px solid var(--acrylic-blue);
    margin-bottom: 20px;
    box-shadow: var(--shadow);
    position: relative;
    overflow: hidden;
}

.subscription-card-detailed::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: var(--artistic-gradient);
}

.subscription-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 25px;
    padding-bottom: 20px;
    border-bottom: 2px solid var(--acrylic-blue-light);
}

.subscription-title h3 {
    font-size: 1.6rem;
    font-weight: 700;
    color: var(--sketch-dark);
    margin-bottom: 8px;
    font-family: 'Playfair Display', serif;
}

.subscription-stats {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    margin-bottom: 25px;
}

.subscription-stat {
    background: var(--acrylic-blue-light);
    padding: 20px;
    border-radius: var(--radius);
    text-align: center;
    border: 2px solid var(--acrylic-blue);
    transition: var(--transition);
    position: relative;
    overflow: hidden;
}

.subscription-stat:hover {
    transform: translateY(-3px);
    box-shadow: var(--shadow);
}

.subscription-stat::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: var(--acrylic-blue);
}

.subscription-stat-value {
    font-size: 2rem;
    font-weight: 700;
    color: var(--acrylic-blue);
    margin-bottom: 6px;
    font-family: 'Inter', sans-serif;
}

.subscription-stat-label {
    font-size: 0.95rem;
    color: var(--sketch-medium);
    font-weight: 500;
}

.visits-list {
    margin-top: 25px;
}

.visit-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 0;
    border-bottom: 1px solid var(--acrylic-blue-light);
    transition: var(--transition-fast);
}

.visit-item:hover {
    background: var(--acrylic-blue-light);
    padding-left: 15px;
    padding-right: 15px;
    margin: 0 -15px;
    border-radius: var(--radius-sm);
}

.visit-item:last-child {
    border-bottom: none;
}

.visit-date {
    font-weight: 500;
    color: var(--sketch-dark);
    display: flex;
    align-items: center;
    gap: 8px;
}

.visit-status {
    padding: 6px 16px;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 600;
    border: 1px solid;
}

.visit-status.attended {
    background: var(--pastel-green-light);
    color: var(--pastel-green);
    border-color: var(--pastel-green);
}

.visit-status.missed {
    background: var(--pastel-red-light);
    color: var(--pastel-red);
    border-color: var(--pastel-red);
}

/* ==================== –ü–†–ï–ü–û–î–ê–í–ê–¢–ï–õ–ò ==================== */
.teachers-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 25px;
}

.teacher-card {
    background: var(--card-bg);
    border-radius: var(--radius-xl);
    padding: 25px;
    border: 2px solid var(--acrylic-blue);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    text-align: center;
    position: relative;
    overflow: hidden;
    box-shadow: var(--shadow);
}

.teacher-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: var(--artistic-gradient);
}

.teacher-card:hover {
    transform: translateY(-6px) rotate(1deg);
    box-shadow: var(--shadow-xl);
    border-color: var(--watercolor-purple);
}

.teacher-avatar {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    margin: 0 auto 20px;
    overflow: hidden;
    background: var(--artistic-gradient);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 2.5rem;
    font-weight: 700;
    border: 4px solid white;
    box-shadow: var(--shadow);
    position: relative;
    z-index: 1;
}

.teacher-avatar::before {
    content: '';
    position: absolute;
    top: -4px;
    left: -4px;
    right: -4px;
    bottom: -4px;
    background: var(--artistic-gradient);
    border-radius: 50%;
    z-index: -1;
    animation: rotate 20s linear infinite;
}

.teacher-avatar img {
    width: 92%;
    height: 92%;
    object-fit: cover;
    border-radius: 50%;
    position: relative;
    z-index: 1;
}

.teacher-name {
    font-size: 1.3rem;
    font-weight: 600;
    margin-bottom: 8px;
    color: var(--sketch-dark);
    font-family: 'Playfair Display', serif;
}

.teacher-qualification {
    color: var(--sketch-medium);
    font-size: 0.95rem;
    margin-bottom: 15px;
    min-height: 60px;
    line-height: 1.5;
}

.teacher-specialization {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 8px 16px;
    background: var(--watercolor-purple-light);
    color: var(--watercolor-purple);
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 600;
    border: 1px solid var(--watercolor-purple);
}

/* ==================== FAQ ==================== */
.faq-list {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.faq-item {
    background: var(--card-bg);
    border-radius: var(--radius);
    border: 2px solid var(--acrylic-blue);
    overflow: hidden;
    transition: var(--transition);
    box-shadow: var(--shadow-sm);
}

.faq-question {
    padding: 20px;
    font-weight: 600;
    color: var(--sketch-dark);
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: var(--transition);
    background: var(--acrylic-blue-light);
    position: relative;
}

.faq-question::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 4px;
    background: var(--acrylic-blue);
}

.faq-question:hover {
    background: var(--acrylic-blue-light);
    padding-left: 24px;
}

.faq-question.active {
    background: var(--acrylic-blue-light);
    border-bottom: 2px solid var(--acrylic-blue);
}

.faq-answer {
    padding: 0 20px;
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease;
    color: var(--sketch-medium);
    line-height: 1.6;
}

.faq-answer.active {
    padding: 20px;
    max-height: 500px;
}

/* ==================== –ù–û–í–û–°–¢–ò ==================== */
.news-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 25px;
}

.news-card {
    background: var(--card-bg);
    border-radius: var(--radius-xl);
    padding: 25px;
    border: 2px solid var(--acrylic-blue);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
    position: relative;
    overflow: hidden;
    box-shadow: var(--shadow);
}

.news-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: var(--artistic-gradient);
}

.news-card:hover {
    transform: translateY(-6px) rotate(1deg);
    box-shadow: var(--shadow-xl);
    border-color: var(--watercolor-purple);
}

.news-date {
    font-size: 0.9rem;
    color: var(--sketch-light);
    margin-bottom: 12px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.news-title {
    font-size: 1.2rem;
    font-weight: 600;
    margin-bottom: 12px;
    color: var(--sketch-dark);
    font-family: 'Playfair Display', serif;
}

.news-preview {
    color: var(--sketch-medium);
    font-size: 0.95rem;
    line-height: 1.6;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* ==================== –ê–ù–ò–ú–ê–¶–ò–ò ==================== */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes slideInDown {
    from { transform: translateY(-100%); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

@keyframes slideOutUp {
    from { transform: translateY(0); opacity: 1; }
    to { transform: translateY(-100%); opacity: 0; }
}

@keyframes modalSlideIn {
    from { opacity: 0; transform: translateY(-20px) scale(0.95); }
    to { opacity: 1; transform: translateY(0) scale(1); }
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

@keyframes brushStroke {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
}

@keyframes rotate {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

/* ==================== –¢–ê–ë–´ ==================== */
.tabs {
    display: flex;
    border-bottom: 2px solid var(--acrylic-blue);
    margin-bottom: 20px;
    overflow-x: auto;
    gap: 2px;
}

.tab {
    padding: 15px 24px;
    font-weight: 600;
    color: var(--sketch-medium);
    border-bottom: 3px solid transparent;
    cursor: pointer;
    white-space: nowrap;
    transition: var(--transition-fast);
    position: relative;
    font-family: 'Inter', sans-serif;
}

.tab.active {
    color: var(--acrylic-blue);
    border-bottom-color: var(--acrylic-blue);
    background: var(--acrylic-blue-light);
}

.tab:hover:not(.active) {
    color: var(--acrylic-blue);
    background: var(--acrylic-blue-light);
}

/* ==================== –ü–£–°–¢–´–ï –°–û–°–¢–û–Ø–ù–ò–Ø ==================== */
.empty-state {
    text-align: center;
    padding: 60px 20px;
}

.empty-state-icon {
    font-size: 4rem;
    color: rgba(44, 36, 22, 0.1);
    margin-bottom: 20px;
}

.empty-state-title {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--sketch-dark);
    margin-bottom: 10px;
    font-family: 'Playfair Display', serif;
}

.empty-state-description {
    color: var(--sketch-medium);
    margin-bottom: 25px;
    font-size: 1rem;
}

/* ==================== –ú–û–î–ê–õ–¨–ù–´–ï –û–ö–ù–ê ==================== */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.5);
    justify-content: center;
    align-items: center;
    z-index: 2000;
    padding: 20px;
    overflow-y: auto;
    backdrop-filter: blur(5px);
}

.modal.active {
    display: flex;
}

.modal-content {
    background: white;
    padding: 35px;
    border-radius: var(--radius-xl);
    max-width: 90%;
    width: 100%;
    max-height: 90vh;
    overflow-y: auto;
    animation: modalSlideIn 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
    border: 3px solid var(--acrylic-blue);
    box-shadow: var(--shadow-xl);
    position: relative;
}

.modal-content::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: var(--artistic-gradient);
}

@media (max-width: 768px) {
    .modal {
        padding: 10px;
    }
    
    .modal-content {
        padding: 25px;
        max-width: 95%;
    }
}

/* ==================== –°–ü–ò–ù–ù–ï–† ==================== */
.spinner {
    width: 40px;
    height: 40px;
    border: 4px solid var(--acrylic-blue-light);
    border-top: 4px solid var(--acrylic-blue);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto;
}

/* ==================== –°–ö–†–û–õ–õ–ë–ê–† ==================== */
::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

::-webkit-scrollbar-track {
    background: var(--canvas-bg);
    border-radius: 5px;
}

::-webkit-scrollbar-thumb {
    background: var(--acrylic-blue);
    border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--acrylic-blue-dark);
}

/* –î–ª—è Firefox */
* {
    scrollbar-width: thin;
    scrollbar-color: var(--acrylic-blue) var(--canvas-bg);
}

/* ==================== –£–¢–ò–õ–ò–¢–´ ==================== */
.text-center { text-align: center; }
.mt-20 { margin-top: 20px; }
.mb-20 { margin-bottom: 20px; }
.w-100 { width: 100%; }
.d-flex { display: flex; }
.justify-between { justify-content: space-between; }
.align-center { align-items: center; }
.gap-10 { gap: 10px; }
.gap-20 { gap: 20px; }

/* ==================== –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ ==================== */
@media (max-width: 768px) {
    .hero {
        padding: 30px 20px;
    }
    
    .hero h1 {
        font-size: 2.2rem;
    }
    
    .hero .tagline {
        font-size: 1.6rem;
    }
    
    .section-title {
        font-size: 1.7rem;
    }
    
    .subscription-stats {
        grid-template-columns: 1fr;
    }
    
    .teachers-grid {
        grid-template-columns: 1fr;
    }
    
    .news-grid {
        grid-template-columns: 1fr;
    }
    
    .compact-profile-stats {
        flex-direction: column;
        gap: 10px;
    }
    
    .compact-stat-item {
        width: 100%;
    }
}

/* ==================== –¢–ï–õ–ï–ì–†–ê–ú –°–¢–ò–õ–ò ==================== */
.tg-theme {
    background: var(--canvas-light);
    color: var(--sketch-dark);
}

.tg-btn {
    background: var(--acrylic-blue);
    color: white;
    border: none;
    border-radius: var(--organic-radius);
    padding: 14px 28px;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
    display: inline-flex;
    align-items: center;
    gap: 10px;
    border: 2px solid var(--acrylic-blue-dark);
}

.tg-btn:hover {
    background: var(--acrylic-blue-dark);
    transform: translateY(-2px);
    box-shadow: var(--shadow);
}

.tg-btn-secondary {
    background: transparent;
    color: var(--acrylic-blue);
    border: 2px solid var(--acrylic-blue);
}

.tg-btn-secondary:hover {
    background: var(--acrylic-blue-light);
    transform: translateY(-2px);
}

/* ==================== –ö–ù–û–ü–ö–ê –ë–´–°–¢–†–û–ô –°–í–Ø–ó–ò ==================== */
.quick-tasks-btn {
    position: fixed;
    bottom: 80px;
    right: 20px;
    width: 60px;
    height: 60px;
    background: var(--artistic-gradient);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.5rem;
    cursor: pointer;
    z-index: 999;
    box-shadow: var(--shadow-xl);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    text-decoration: none;
    border: 3px solid white;
    animation: float 3s ease-in-out infinite;
}

.quick-tasks-btn:hover {
    transform: scale(1.1) rotate(15deg);
    box-shadow: 0 10px 30px rgba(156, 106, 222, 0.4);
}

.quick-tasks-btn::before {
    content: '';
    position: absolute;
    top: -3px;
    left: -3px;
    right: -3px;
    bottom: -3px;
    background: var(--artistic-gradient);
    border-radius: 50%;
    z-index: -1;
    animation: rotate 20s linear infinite;
}

/* ==================== –•–£–î–û–ñ–ï–°–¢–í–ï–ù–ù–´–ï –≠–õ–ï–ú–ï–ù–¢–´ ==================== */
.brush-stroke {
    position: absolute;
    pointer-events: none;
    z-index: -1;
    opacity: 0.1;
}

.paint-splash {
    position: absolute;
    width: 100px;
    height: 100px;
    background: radial-gradient(circle, var(--acrylic-blue) 0%, transparent 70%);
    border-radius: 50%;
    pointer-events: none;
    z-index: -1;
    opacity: 0.05;
}

.color-palette {
    display: flex;
    gap: 5px;
    margin: 10px 0;
}

.color-chip {
    width: 25px;
    height: 25px;
    border-radius: 4px;
    border: 2px solid white;
    box-shadow: var(--shadow-sm);
}

/* ==================== –î–ï–ö–û–†–ê–¢–ò–í–ù–´–ï –≠–õ–ï–ú–ï–ù–¢–´ ==================== */
.decorative-frame {
    position: relative;
    padding: 20px;
    border: 2px solid var(--acrylic-blue);
    border-radius: var(--radius);
    background: var(--canvas-light);
}

.decorative-frame::before,
.decorative-frame::after {
    content: '';
    position: absolute;
    width: 20px;
    height: 20px;
    border: 2px solid var(--acrylic-blue);
}

.decorative-frame::before {
    top: -2px;
    left: -2px;
    border-right: none;
    border-bottom: none;
}

.decorative-frame::after {
    bottom: -2px;
    right: -2px;
    border-left: none;
    border-top: none;
}

/* ==================== –ê–í–ê–¢–ê–† –° –ú–û–ù–ê –õ–ò–ó–û–ô ==================== */
.mona-lisa-avatar {
    background: url('https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/Mona_Lisa%2C_by_Leonardo_da_Vinci%2C_from_C2RMF_retouched.jpg/150px-Mona_Lisa%2C_by_Leonardo_da_Vinci%2C_from_C2RMF_retouched.jpg');
    background-size: cover;
    background-position: center;
}

/* ==================== –õ–û–ì–û–¢–ò–ü –° –î–ê–õ–ò ==================== */
.dali-logo {
    background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), 
                url('https://upload.wikimedia.org/wikipedia/en/thumb/3/31/The_Persistence_of_Memory.jpg/300px-The_Persistence_of_Memory.jpg');
    background-size: cover;
    background-position: center;
}

/* ==================== –ó–ê–ì–†–£–ó–û–ß–ù–ê–Ø –ê–ù–ò–ú–ê–¶–ò–Ø ==================== */
#loading-bar {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 3px;
    background: var(--artistic-gradient);
    z-index: 9999;
    transform: translateX(-100%);
    animation: loading 2s ease-in-out infinite;
}

@keyframes loading {
    0% { transform: translateX(-100%); }
    50% { transform: translateX(0); }
    100% { transform: translateX(100%); }
}
</style>
</head>
<body>
    <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –∑–∞–≥—Ä—É–∑–∫–∏ -->
    <div id="loading-bar"></div>
    
    <!-- –û–≤–µ—Ä–ª–µ–π –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –º–µ–Ω—é -->
    <div id="mobile-overlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 999;"></div>
    
    <!-- –•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã -->
    <div class="brush-stroke" style="top: 10%; left: 5%; width: 200px; height: 100px; background: rgba(156, 106, 222, 0.1); transform: rotate(20deg);"></div>
    <div class="brush-stroke" style="bottom: 10%; right: 5%; width: 150px; height: 80px; background: rgba(255, 193, 69, 0.1); transform: rotate(-15deg);"></div>
    <div class="paint-splash" style="top: 30%; right: 10%;"></div>
    <div class="paint-splash" style="bottom: 40%; left: 15%; background: radial-gradient(circle, var(--watercolor-purple) 0%, transparent 70%);"></div>
    
    <!-- –í–µ—Ä—Ö–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="top-nav">
        <a href="#" class="logo-container" onclick="app.navigateToPage('home')">
            <div class="logo-frame dali-logo">
                <!-- –ö–∞—Ä—Ç–∏–Ω–∞ –°–∞–ª—å–≤–∞–¥–æ—Ä–∞ –î–∞–ª–∏ -->
                <div style="color: white; font-size: 2rem; display: flex; align-items: center; justify-content: center; width: 100%; height: 100%;">
                    üé®
                </div>
            </div>
            <div class="logo-text-container">
                <div class="logo-main-text">
                    <span class="logo-art">ART</span>
                    <span class="logo-school">STUDIO</span>
                </div>
                <div class="logo-tagline">–†–∞—Å–∫—Ä–æ–π —Å–≤–æ–π —Ç–≤–æ—Ä—á–µ—Å–∫–∏–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª</div>
            </div>
        </a>
        
        <div class="user-avatar mona-lisa-avatar" id="userAvatar" onclick="app.toggleUserMenu()" style="display: none;">
            <!-- –ú–æ–Ω–∞ –õ–∏–∑–∞ –∫–∞–∫ –∞–≤–∞—Ç–∞—Ä -->
            <img id="userAvatarImg" 
                 alt="–ú–æ–Ω–∞ –õ–∏–∑–∞"
                 onerror="this.style.display='none'; this.parentElement.classList.add('mona-lisa-avatar');"
                 style="display: none;">
        </div>
        
        <div class="user-menu" id="userMenu">
            <div style="padding: 15px; border-bottom: 1px solid var(--acrylic-blue-light);">
                <div style="font-weight: 600; font-size: 1.1rem;" id="menuUserName">–ì–æ—Å—Ç—å</div>
                <div style="font-size: 0.9rem; color: var(--sketch-medium);" id="menuUserEmail"></div>
            </div>
            <div style="padding: 5px 0;">
                <a href="#" class="nav-menu-item" onclick="app.navigateToPage('profile')">
                    <i class="fas fa-user" style="color: var(--acrylic-blue);"></i>–ü—Ä–æ—Ñ–∏–ª—å
                </a>
                <a href="#" class="nav-menu-item" onclick="app.navigateToPage('schedule')">
                    <i class="fas fa-calendar-alt" style="color: var(--acrylic-blue);"></i>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ
                </a>
                <a href="#" class="nav-menu-item" onclick="app.navigateToPage('subscription')">
                    <i class="fas fa-ticket-alt" style="color: var(--acrylic-blue);"></i>–ê–±–æ–Ω–µ–º–µ–Ω—Ç
                </a>
                <a href="#" class="nav-menu-item" onclick="app.navigateToPage('teachers')">
                    <i class="fas fa-chalkboard-teacher" style="color: var(--acrylic-blue);"></i>–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏
                </a>
                <a href="#" class="nav-menu-item" onclick="app.showLoginModal()" id="loginMenuBtn">
                    <i class="fas fa-sign-in-alt" style="color: var(--acrylic-blue);"></i>–í–æ–π—Ç–∏
                </a>
                <a href="#" class="nav-menu-item" onclick="app.logout()" id="logoutMenuBtn" style="display: none;">
                    <i class="fas fa-sign-out-alt" style="color: var(--acrylic-blue);"></i>–í—ã–π—Ç–∏
                </a>
            </div>
        </div>
    </nav>
    
    <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="bottom-nav" id="bottomNav" style="display: none;">
        <a href="#" class="nav-item active" data-page="home" onclick="app.navigateToPage('home')">
            <i class="fas fa-palette"></i>
            <span>–ì–ª–∞–≤–Ω–∞—è</span>
        </a>
        <a href="#" class="nav-item" data-page="schedule" onclick="app.navigateToPage('schedule')">
            <i class="fas fa-calendar-alt"></i>
            <span>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</span>
        </a>
        <a href="#" class="nav-item" data-page="subscription" onclick="app.navigateToPage('subscription')">
            <i class="fas fa-ticket-alt"></i>
            <span>–ê–±–æ–Ω–µ–º–µ–Ω—Ç</span>
        </a>
        <a href="#" class="nav-item" data-page="teachers" onclick="app.navigateToPage('teachers')">
            <i class="fas fa-paint-brush"></i>
            <span>–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏</span>
        </a>
        <a href="#" class="nav-item" data-page="profile" onclick="app.navigateToPage('profile')">
            <i class="fas fa-user"></i>
            <span>–ü—Ä–æ—Ñ–∏–ª—å</span>
        </a>
    </nav>
    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <main>
        <!-- –≠–∫—Ä–∞–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
        <div id="auth-page" class="page active">
            <div class="container" style="min-height: 80vh; display: flex; align-items: center; justify-content: center;">
                <div style="max-width: 500px; width: 100%;">
                    <div class="card" style="text-align: center; padding: 40px; border: 3px solid var(--acrylic-blue);">
                        <div style="margin-bottom: 30px;">
                            <div style="width: 100px; height: 100px; background: var(--artistic-gradient); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px; color: white; font-size: 3rem; border: 4px solid white; box-shadow: var(--shadow);">
                                üé®
                            </div>
                            <h1 style="font-family: 'Playfair Display', serif; font-size: 2.5rem; color: var(--sketch-dark); margin-bottom: 10px; background: var(--artistic-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">ART STUDIO</h1>
                            <p style="color: var(--sketch-medium); font-size: 1.1rem; font-family: 'Dancing Script', cursive;">–í–∞—à–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–∞</p>
                        </div>
                        
                        <div id="authContent">
                            <div style="text-align: center; margin-bottom: 30px;">
                                <h2 style="color: var(--sketch-dark); margin-bottom: 15px; font-family: 'Playfair Display', serif;">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–∏—Ä –∏—Å–∫—É—Å—Å—Ç–≤–∞!</h2>
                                <p style="color: var(--sketch-medium); margin-bottom: 25px; line-height: 1.6;">
                                    –î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ª–∏—á–Ω–æ–º—É –∫–∞–±–∏–Ω–µ—Ç—É —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç—É–¥–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ Telegram
                                </p>
                            </div>
                            
                            <button class="btn btn-artistic" onclick="app.startTelegramAuth()" style="width: 100%; padding: 18px; font-size: 1.1rem;">
                                <i class="fab fa-telegram-plane"></i>
                                –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Telegram
                            </button>
                            
                            <div style="margin-top: 25px; padding: 20px; background: var(--acrylic-blue-light); border-radius: var(--radius-lg); border: 2px solid var(--acrylic-blue);">
                                <h4 style="color: var(--sketch-dark); margin-bottom: 10px; font-size: 1rem; display: flex; align-items: center; gap: 8px;">
                                    <i class="fas fa-info-circle" style="color: var(--acrylic-blue);"></i> –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
                                </h4>
                                <p style="color: var(--sketch-medium); font-size: 0.95rem; line-height: 1.6;">
                                    –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π–¥—ë—Ç –≤–∞—à–∏ –∞–±–æ–Ω–µ–º–µ–Ω—Ç—ã –≤ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç—É–¥–∏–∏ –ø–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏–∑ Telegram –∏ –ø–æ–∫–∞–∂–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
        <div id="home-page" class="page">
            <div class="container">
                <!-- Hero —Å–µ–∫—Ü–∏—è -->
                <section class="hero">
                    <div class="hero-content">
                        <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—É—é —Å—Ç—É–¥–∏—é!</h1>
                        <div class="tagline">–¢–≤–æ—Ä–∏, –≤–¥–æ—Ö–Ω–æ–≤–ª—è–π, —Å–æ–∑–¥–∞–≤–∞–π</div>
                        <p>–í–∞—à–µ –ª–∏—á–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–Ω—è—Ç–∏—è–º–∏, –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –∏ —Å–≤—è–∑–∏ —Å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º–∏. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ —Å–µ–±–µ —Ö—É–¥–æ–∂–Ω–∏–∫–∞!</p>
                        <div class="hero-actions">
                            <button class="btn btn-artistic" onclick="app.navigateToPage('schedule')">
                                <i class="fas fa-calendar-alt"></i>
                                –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ
                            </button>
                            <button class="btn btn-secondary" onclick="app.navigateToPage('subscription')">
                                <i class="fas fa-ticket-alt"></i>
                                –ú–æ–π –∞–±–æ–Ω–µ–º–µ–Ω—Ç
                            </button>
                        </div>
                    </div>
                </section>
                
                <!-- –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø -->
                <section class="section">
                    <h2 class="section-title">–ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø</h2>
                    <div class="grid grid-3-main">
                        <div class="category-card-main-style" onclick="app.navigateToPage('schedule')">
                            <div class="category-image-main">
                                <i class="fas fa-calendar-alt" style="font-size: 2.5rem; color: white; z-index: 2; position: relative;"></i>
                            </div>
                            <h3>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π</h3>
                            <div class="category-description-main">
                                –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞–Ω—è—Ç–∏–π –Ω–∞ –Ω–µ–¥–µ–ª—é, —É–∑–Ω–∞–π—Ç–µ –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –∏ –æ—Ç–º–µ–Ω–∞—Ö
                            </div>
                            <div class="category-card-footer">
                                <span class="category-name">–ê–∫—Ç—É–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</span>
                                <span class="select-action">
                                    –ü–µ—Ä–µ–π—Ç–∏ <i class="fas fa-arrow-right"></i>
                                </span>
                            </div>
                        </div>
                        
                        <div class="category-card-main-style" onclick="app.navigateToPage('subscription')">
                            <div class="category-image-main">
                                <i class="fas fa-ticket-alt" style="font-size: 2.5rem; color: white; z-index: 2; position: relative;"></i>
                            </div>
                            <h3>–ú–æ–π –∞–±–æ–Ω–µ–º–µ–Ω—Ç</h3>
                            <div class="category-description-main">
                                –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Å—Ç–∞—Ç–æ–∫ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞–Ω—è—Ç–∏–π, —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ –∏ –∏—Å—Ç–æ—Ä–∏—é –ø–æ—Å–µ—â–µ–Ω–∏–π
                            </div>
                            <div class="category-card-footer">
                                <span class="category-name">–î–µ—Ç–∞–ª–∏ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞</span>
                                <span class="select-action">
                                    –ü–µ—Ä–µ–π—Ç–∏ <i class="fas fa-arrow-right"></i>
                                </span>
                            </div>
                        </div>
                        
                        <div class="category-card-main-style" onclick="app.navigateToPage('teachers')">
                            <div class="category-image-main">
                                <i class="fas fa-paint-brush" style="font-size: 2.5rem; color: white; z-index: 2; position: relative;"></i>
                            </div>
                            <h3>–ù–∞—à–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏</h3>
                            <div class="category-description-main">
                                –ü–æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –Ω–∞—à–∏–º–∏ —Ç–∞–ª–∞–Ω—Ç–ª–∏–≤—ã–º–∏ —Ö—É–¥–æ–∂–Ω–∏–∫–∞–º–∏-–ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º–∏ –∏ –∏—Ö —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π
                            </div>
                            <div class="category-card-footer">
                                <span class="category-name">–ö–æ–º–∞–Ω–¥–∞ —Å—Ç—É–¥–∏–∏</span>
                                <span class="select-action">
                                    –ü–µ—Ä–µ–π—Ç–∏ <i class="fas fa-arrow-right"></i>
                                </span>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- –ë–ª–∏–∂–∞–π—à–∏–µ –∑–∞–Ω—è—Ç–∏—è -->
                <section class="section">
                    <h2 class="section-title">–ë–ª–∏–∂–∞–π—à–∏–µ –∑–∞–Ω—è—Ç–∏—è</h2>
                    <div id="upcomingLessons" class="card">
                        <!-- –ó–∞–Ω—è—Ç–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        <div class="text-center">
                            <div class="spinner"></div>
                            <p class="mt-20" style="color: var(--sketch-medium);">–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è...</p>
                        </div>
                    </div>
                </section>
                
                <!-- –ù–æ–≤–æ—Å—Ç–∏ —à–∫–æ–ª—ã -->
                <section class="section">
                    <div class="d-flex justify-between align-center mb-20">
                        <h2 class="section-title">–ù–æ–≤–æ—Å—Ç–∏ —Å—Ç—É–¥–∏–∏</h2>
                        <button class="btn btn-secondary btn-sm" onclick="app.navigateToPage('news')">
                            –í—Å–µ –Ω–æ–≤–æ—Å—Ç–∏ <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                    <div id="schoolNews" class="grid news-grid">
                        <!-- –ù–æ–≤–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </section>
            </div>
        </div>

        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è -->
        <div id="schedule-page" class="page">
            <div class="container">
                <section class="section">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 20px;">
                        <button class="btn btn-secondary" onclick="app.navigateToPage('home')" style="padding: 8px 16px;">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 class="section-title">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π</h2>
                    </div>
                    
                    <div class="card">
                        <div style="margin-bottom: 20px;">
                            <div class="d-flex justify-between align-center mb-20">
                                <div>
                                    <h3 style="color: var(--sketch-dark); font-weight: 600; margin-bottom: 5px; font-family: 'Playfair Display', serif;">
                                        <i class="fas fa-palette" style="color: var(--acrylic-blue);"></i>
                                        <span id="branchName">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                                    </h3>
                                    <p style="color: var(--sketch-medium); font-size: 0.95rem;">
                                        –ù–µ–¥–µ–ª—è —Å <span id="scheduleWeekStart"></span> –ø–æ <span id="scheduleWeekEnd"></span>
                                    </p>
                                </div>
                                <button class="btn btn-artistic" onclick="app.refreshSchedule()">
                                    <i class="fas fa-sync-alt"></i>
                                    –û–±–Ω–æ–≤–∏—Ç—å
                                </button>
                            </div>
                            
                            <div id="studentInfo" style="background: var(--acrylic-blue-light); padding: 20px; border-radius: var(--radius-lg); margin-bottom: 20px; border: 2px solid var(--acrylic-blue);">
                                <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—á–µ–Ω–∏–∫–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                        </div>
                        
                        <div id="scheduleContainer">
                            <!-- –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            <div class="text-center">
                                <div class="spinner"></div>
                                <p class="mt-20" style="color: var(--sketch-medium);">–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è...</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
        
        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ -->
        <div id="subscription-page" class="page">
            <div class="container">
                <section class="section">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 20px;">
                        <button class="btn btn-secondary" onclick="app.navigateToPage('home')" style="padding: 8px 16px;">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 class="section-title">–ú–æ–π –∞–±–æ–Ω–µ–º–µ–Ω—Ç</h2>
                    </div>
                    
                    <div class="subscription-card-detailed">
                        <div id="subscriptionInfo">
                            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–±–æ–Ω–µ–º–µ–Ω—Ç–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            <div class="text-center">
                                <div class="spinner"></div>
                                <p class="mt-20" style="color: var(--sketch-medium);">–ó–∞–≥—Ä—É–∑–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∞–±–æ–Ω–µ–º–µ–Ω—Ç–µ...</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card mt-20">
                        <h3 style="color: var(--sketch-dark); margin-bottom: 20px; font-size: 1.3rem; display: flex; align-items: center; gap: 10px;">
                            <i class="fas fa-history" style="color: var(--acrylic-blue);"></i> –ò—Å—Ç–æ—Ä–∏—è –ø–æ—Å–µ—â–µ–Ω–∏–π
                        </h3>
                        <div id="visitsHistory">
                            <!-- –ò—Å—Ç–æ—Ä–∏—è –ø–æ—Å–µ—â–µ–Ω–∏–π –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            <div class="text-center">
                                <div class="spinner"></div>
                                <p class="mt-20" style="color: var(--sketch-medium);">–ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ—Å–µ—â–µ–Ω–∏–π...</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-20">
                        <button class="btn btn-artistic w-100" onclick="app.contactAdminForRenewal()">
                            <i class="fas fa-comments"></i>
                            –°–≤—è–∑–∞—Ç—å—Å—è —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º / –ø—Ä–æ–¥–ª–∏—Ç—å –∞–±–æ–Ω–µ–º–µ–Ω—Ç
                        </button>
                    </div>
                </section>
            </div>
        </div>
        
        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π -->
        <div id="teachers-page" class="page">
            <div class="container">
                <section class="section">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 20px;">
                        <button class="btn btn-secondary" onclick="app.navigateToPage('home')" style="padding: 8px 16px;">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 class="section-title">–ù–∞—à–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏</h2>
                    </div>
                    
                    <div class="card">
                        <p style="color: var(--sketch-medium); margin-bottom: 25px; font-size: 1.05rem; line-height: 1.6;">
                            –ü–æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –Ω–∞—à–∏–º–∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ —Ö—É–¥–æ–∂–Ω–∏–∫–∞–º–∏-–ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥—É—Ç –≤–∞–º —Ä–∞—Å–∫—Ä—ã—Ç—å —Ç–≤–æ—Ä—á–µ—Å–∫–∏–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –∏ –æ—Å–≤–æ–∏—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏.
                        </p>
                        
                        <div id="teachersList" class="teachers-grid">
                            <!-- –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            <div class="text-center" style="grid-column: 1 / -1;">
                                <div class="spinner"></div>
                                <p class="mt-20" style="color: var(--sketch-medium);">–ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π...</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
        
        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ FAQ -->
        <div id="faq-page" class="page">
            <div class="container">
                <section class="section">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 20px;">
                        <button class="btn btn-secondary" onclick="app.navigateToPage('home')" style="padding: 8px 16px;">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 class="section-title">–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h2>
                    </div>
                    
                    <div class="card">
                        <div id="faqList" class="faq-list">
                            <!-- FAQ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            <div class="text-center">
                                <div class="spinner"></div>
                                <p class="mt-20" style="color: var(--sketch-medium);">–ó–∞–≥—Ä—É–∑–∫–∞ —á–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤...</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
        
        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–æ–≤–æ—Å—Ç–µ–π -->
        <div id="news-page" class="page">
            <div class="container">
                <section class="section">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 20px;">
                        <button class="btn btn-secondary" onclick="app.navigateToPage('home')" style="padding: 8px 16px;">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 class="section-title">–ù–æ–≤–æ—Å—Ç–∏ —Å—Ç—É–¥–∏–∏</h2>
                    </div>
                    
                    <div id="newsList" class="grid news-grid">
                        <!-- –ù–æ–≤–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        <div class="text-center" style="grid-column: 1 / -1;">
                            <div class="spinner"></div>
                            <p class="mt-20" style="color: var(--sketch-medium);">–ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π...</p>
                        </div>
                    </div>
                </section>
            </div>
        </div>
        
        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è -->
        <div id="profile-page" class="page">
            <div class="container">
                <section class="section">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 20px;">
                        <button class="btn btn-secondary" onclick="app.navigateToPage('home')" style="padding: 8px 16px;">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <h2 class="section-title">–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</h2>
                    </div>
                    
                    <div class="compact-profile-header">
                        <div class="compact-profile-avatar mona-lisa-avatar" id="profileAvatar">
                            <!-- –ú–æ–Ω–∞ –õ–∏–∑–∞ –≤ –∞–≤–∞—Ç–∞—Ä–µ –ø—Ä–æ—Ñ–∏–ª—è -->
                            <img id="profileAvatarImg" alt="–ú–æ–Ω–∞ –õ–∏–∑–∞" onerror="this.style.display='none'; this.parentElement.classList.add('mona-lisa-avatar');">
                        </div>
                        <div class="compact-profile-name" id="profileName">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                        <div class="compact-profile-email" id="profileEmail">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                        <div class="compact-profile-stats">
                            <div class="compact-stat-item">
                                <div class="compact-stat-value" id="statVisits">0</div>
                                <div class="compact-stat-label">–ü–æ—Å–µ—â–µ–Ω–∏–π</div>
                            </div>
                            <div class="compact-stat-item">
                                <div class="compact-stat-value" id="statRemaining">0</div>
                                <div class="compact-stat-label">–û—Å—Ç–∞–ª–æ—Å—å –∑–∞–Ω—è—Ç–∏–π</div>
                            </div>
                            <div class="compact-stat-item">
                                <div class="compact-stat-value" id="statBranch">-</div>
                                <div class="compact-stat-label">–§–∏–ª–∏–∞–ª</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3 style="color: var(--sketch-dark); margin-bottom: 20px; font-size: 1.3rem; font-family: 'Playfair Display', serif;">
                            <i class="fas fa-cog" style="color: var(--acrylic-blue);"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                        </h3>
                        
                        <div id="profileSettingsList">
                            <a href="#" class="nav-menu-item" onclick="app.navigateToPage('faq')">
                                <i class="fas fa-question-circle"></i>–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã
                            </a>
                            <a href="#" class="nav-menu-item" onclick="app.navigateToPage('news')">
                                <i class="fas fa-newspaper"></i>–ù–æ–≤–æ—Å—Ç–∏ —Å—Ç—É–¥–∏–∏
                            </a>
                            <a href="#" class="nav-menu-item" onclick="app.contactAdmin()">
                                <i class="fas fa-headset"></i>–°–≤—è–∑–∞—Ç—å—Å—è —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
                            </a>
                            <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid var(--acrylic-blue-light);">
                                <button class="btn btn-secondary w-100" onclick="app.logout()">
                                    <i class="fas fa-sign-out-alt"></i>–í—ã–π—Ç–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
                                </button>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>
    
    <!-- –ö–Ω–æ–ø–∫–∞ –±—ã—Å—Ç—Ä–æ–π —Å–≤—è–∑–∏ —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º -->
    <a href="#" class="quick-tasks-btn" onclick="app.contactAdmin()" id="floatingAdminBtn" style="display: none;">
        <i class="fas fa-headset"></i>
    </a>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ –ø—Ä–æ—Ñ–∏–ª—è -->
    <div class="modal" id="profileSelectModal">
        <div class="modal-content">
            <h3 style="color: var(--sketch-dark); margin-bottom: 20px; font-family: 'Playfair Display', serif;">–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å</h3>
            <p style="color: var(--sketch-medium); margin-bottom: 25px; line-height: 1.6;">
                –ù–∞ –≤–∞—à –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –Ω–∞–π–¥–µ–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤ –≤ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç—É–¥–∏–∏. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –ø—Ä–æ—Ñ–∏–ª—å:
            </p>
            
            <div id="profilesList" style="margin-bottom: 25px; display: flex; flex-direction: column; gap: 12px;">
                <!-- –°–ø–∏—Å–æ–∫ –ø—Ä–æ—Ñ–∏–ª–µ–π –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
            
            <div class="d-flex gap-10">
                <button class="btn btn-secondary" style="flex: 1;" onclick="app.closeModal('profileSelectModal')">
                    –û—Ç–º–µ–Ω–∞
                </button>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ —Ñ–∏–ª–∏–∞–ª–∞ -->
    <div class="modal" id="branchSelectModal">
        <div class="modal-content">
            <h3 style="color: var(--sketch-dark); margin-bottom: 20px; font-family: 'Playfair Display', serif;">–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∏–ª–∏–∞–ª</h3>
            <p style="color: var(--sketch-medium); margin-bottom: 25px; line-height: 1.6;">
                –î–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–∏–ª–∏–∞–ª —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç—É–¥–∏–∏:
            </p>
            
            <div style="display: flex; flex-direction: column; gap: 12px; margin-bottom: 25px;">
                <button class="btn btn-secondary" onclick="app.selectBranch('–°–≤–∏–±–ª–æ–≤–æ')" style="justify-content: flex-start; text-align: left; padding: 15px;">
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div style="width: 40px; height: 40px; background: var(--acrylic-blue); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white;">
                            <i class="fas fa-palette"></i>
                        </div>
                        <div>
                            <div style="font-weight: 600; color: var(--sketch-dark);">–°—Ç—É–¥–∏—è –°–≤–∏–±–ª–æ–≤–æ</div>
                            <div style="font-size: 0.9rem; color: var(--sketch-medium);">—É–ª. –•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è, –¥. 15</div>
                        </div>
                    </div>
                </button>
                
                <button class="btn btn-secondary" onclick="app.selectBranch('–ß–µ—Ä—Ç–∞–Ω–æ–≤–æ')" style="justify-content: flex-start; text-align: left; padding: 15px;">
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div style="width: 40px; height: 40px; background: var(--watercolor-purple); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white;">
                            <i class="fas fa-paint-brush"></i>
                        </div>
                        <div>
                            <div style="font-weight: 600; color: var(--sketch-dark);">–°—Ç—É–¥–∏—è –ß–µ—Ä—Ç–∞–Ω–æ–≤—Å–∫–∞—è</div>
                            <div style="font-size: 0.9rem; color: var(--sketch-medium);">—É–ª. –¢–≤–æ—Ä—á–µ—Å–∫–∞—è, –¥. 8</div>
                        </div>
                    </div>
                </button>
            </div>
            
            <button class="btn btn-secondary w-100" onclick="app.closeModal('branchSelectModal')">
                –ù–∞–∑–∞–¥
            </button>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–≤—è–∑–∏ —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º -->
    <div class="modal" id="contactAdminModal">
        <div class="modal-content">
            <h3 style="color: var(--sketch-dark); margin-bottom: 20px; font-family: 'Playfair Display', serif;">–°–≤—è–∑–∞—Ç—å—Å—è —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º</h3>
            
            <div style="margin-bottom: 20px;">
                <p style="color: var(--sketch-medium); margin-bottom: 15px; line-height: 1.6;">
                    –í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± —Å–≤—è–∑–∏ —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç—É–¥–∏–∏ <strong id="contactBranchName"></strong>:
                </p>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 25px;">
                    <button class="btn btn-artistic" onclick="app.openAdminChat()">
                        <i class="fas fa-comments"></i>
                        –ù–∞–ø–∏—Å–∞—Ç—å –≤ —á–∞—Ç
                    </button>
                    
                    <button class="btn btn-success" onclick="app.callAdmin()">
                        <i class="fas fa-phone"></i>
                        –ü–æ–∑–≤–æ–Ω–∏—Ç—å
                    </button>
                </div>
                
                <div id="prefilledMessage" style="background: var(--acrylic-blue-light); padding: 20px; border-radius: var(--radius); margin-bottom: 20px; border: 2px solid var(--acrylic-blue);">
                    <div style="font-weight: 500; margin-bottom: 8px; color: var(--sketch-dark); display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-paint-brush" style="color: var(--acrylic-blue);"></i> –ì–æ—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:
                    </div>
                    <div style="font-size: 0.95rem; color: var(--sketch-dark); line-height: 1.5; background: white; padding: 12px; border-radius: var(--radius-sm); border: 1px solid var(--acrylic-blue);" id="autoMessage"></div>
                </div>
            </div>
            
            <button class="btn btn-secondary w-100" onclick="app.closeModal('contactAdminModal')">
                –ó–∞–∫—Ä—ã—Ç—å
            </button>
        </div>
    </div>

<script>
// –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
const app = {
    // ==================== –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø ====================
    API_BASE_URL: 'https://–≤–∞—à-—Å–µ—Ä–≤–µ—Ä.com/api',
    TELEGRAM_BOT_TOKEN: '–í–ê–®_–¢–ï–õ–ï–ì–†–ê–ú_–ë–û–¢_–¢–û–ö–ï–ù',
    
    // ==================== –°–û–°–¢–û–Ø–ù–ò–ï –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø ====================
    currentUser: null,
    currentToken: null,
    selectedProfile: null,
    selectedBranch: null,
    currentDeal: null,
    userProfiles: [],
    userDeals: [],
    scheduleData: [],
    subscriptionData: null,
    teachersData: [],
    faqData: [],
    newsData: [],
    
    // ==================== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ====================
    init: function() {
        console.log('üé® –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç—É–¥–∏–∏...');
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–ø—É—â–µ–Ω–æ –ª–∏ –≤ Telegram Web App
        if (window.Telegram && Telegram.WebApp) {
            this.setupTelegramWebApp();
        }
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
        this.loadSavedData();
        
        // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω
        this.determineInitialScreen();
        
        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
        this.setupEventListeners();
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
        this.updateUserInterface();
        
        console.log('üé® –•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —Å—Ç—É–¥–∏—è —É—Å–ø–µ—à–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞');
    },
    
    // ==================== TELEGRAM –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø ====================
    setupTelegramWebApp: function() {
        const tg = window.Telegram.WebApp;
        
        // –†–∞—Å—à–∏—Ä—è–µ–º –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
        tg.expand();
        
        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–º—É
        tg.setHeaderColor('#4A77B4');
        tg.setBackgroundColor('#FFFBF0');
        
        // –í–∫–ª—é—á–∞–µ–º –∫–Ω–æ–ø–∫—É "–ù–∞–∑–∞–¥"
        tg.BackButton.show();
        tg.BackButton.onClick(() => {
            this.handleBackButton();
        });
        
        console.log('Telegram Web App –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω');
    },
    
    startTelegramAuth: function() {
        // –í Mini App –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ initData
        if (window.Telegram && Telegram.WebApp) {
            const tg = Telegram.WebApp;
            const initData = tg.initData;
            
            if (initData) {
                this.handleTelegramAuth(initData);
            } else {
                // –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –∫–æ–Ω—Ç–∞–∫—Ç
                tg.requestContact((contact) => {
                    if (contact) {
                        this.processTelegramContact(contact);
                    }
                });
            }
        } else {
            // –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –±–µ–∑ Telegram
            this.mockTelegramAuth();
        }
    },
    
    handleTelegramAuth: function(initData) {
        try {
            // –ü–∞—Ä—Å–∏–º initData –∏–∑ Telegram
            const params = new URLSearchParams(initData);
            const userJson = params.get('user');
            
            if (userJson) {
                const telegramUser = JSON.parse(userJson);
                this.processTelegramUser(telegramUser);
            }
        } catch (error) {
            console.error('–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:', error);
            this.showNotification('–û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Telegram', 'error');
        }
    },
    
    processTelegramUser: async function(telegramUser) {
        try {
            this.showLoading('–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è...');
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤ amoCRM
            const response = await fetch(this.API_BASE_URL + '/api/auth/telegram', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    telegram_id: telegramUser.id,
                    first_name: telegramUser.first_name,
                    last_name: telegramUser.last_name,
                    username: telegramUser.username,
                    phone: telegramUser.phone_number
                })
            });
            
            if (!response.ok) throw new Error('–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞');
            
            const result = await response.json();
            
            if (!result.success) {
                // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω, –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º —Ç–µ–ª–µ—Ñ–æ–Ω
                if (result.error === 'user_not_found') {
                    this.requestPhoneNumber();
                } else {
                    throw new Error(result.error);
                }
            } else {
                // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–π–¥–µ–Ω
                this.handleUserFound(result.data);
            }
            
        } catch (error) {
            console.error('–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Telegram:', error);
            this.showNotification(error.message, 'error');
        } finally {
            this.hideLoading();
        }
    },
    
    processTelegramContact: async function(contact) {
        try {
            this.showLoading('–ü–æ–∏—Å–∫ –≤ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç—É–¥–∏–∏...');
            
            const response = await fetch(this.API_BASE_URL + '/api/auth/find-by-phone', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ phone: contact.phone_number })
            });
            
            if (!response.ok) throw new Error('–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞');
            
            const result = await response.json();
            
            if (!result.success) {
                throw new Error(result.error || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç—É–¥–∏–∏');
            }
            
            this.handleUserFound(result.data);
            
        } catch (error) {
            console.error('–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–Ω—Ç–∞–∫—Ç–∞:', error);
            this.showNotification(error.message, 'error');
        } finally {
            this.hideLoading();
        }
    },
    
    handleUserFound: function(data) {
        this.currentUser = data.user;
        this.userDeals = data.deals || [];
        this.userProfiles = data.profiles || [];
        
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ
        this.saveUserData();
        
        if (this.userProfiles.length === 0) {
            this.showNotification('–ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã –≤ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç—É–¥–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã', 'warning');
            this.navigateToPage('home');
        } else if (this.userProfiles.length === 1) {
            // –û–¥–∏–Ω –ø—Ä–æ—Ñ–∏–ª—å - –≤—ã–±–∏—Ä–∞–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
            this.selectedProfile = this.userProfiles[0];
            this.selectedBranch = this.selectedProfile.branch;
            this.loadProfileData();
            this.showBranchSelectionIfNeeded();
        } else {
            // –ù–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ñ–∏–ª–µ–π - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±–æ—Ä
            this.showProfileSelection();
        }
        
        this.updateUserInterface();
    },
    
    // ==================== –í–´–ë–û–† –ü–†–û–§–ò–õ–Ø –ò –§–ò–õ–ò–ê–õ–ê ====================
    showProfileSelection: function() {
        const modal = document.getElementById('profileSelectModal');
        const list = document.getElementById('profilesList');
        
        if (!modal || !list) return;
        
        list.innerHTML = '';
        
        this.userProfiles.forEach((profile, index) => {
            const button = document.createElement('button');
            button.className = 'btn btn-secondary';
            button.style = 'justify-content: flex-start; text-align: left; padding: 15px;';
            button.onclick = () => this.selectProfile(profile);
            
            const branchColor = profile.branch === '–°–≤–∏–±–ª–æ–≤–æ' ? 'var(--acrylic-blue)' : 'var(--watercolor-purple)';
            
            button.innerHTML = `
                <div style="display: flex; align-items: center; gap: 12px;">
                    <div style="width: 40px; height: 40px; background: ${branchColor}; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white;">
                        <i class="fas fa-palette"></i>
                    </div>
                    <div style="flex: 1;">
                        <div style="font-weight: 600; color: var(--sketch-dark);">${profile.student_name || '–£—á–µ–Ω–∏–∫ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç—É–¥–∏–∏'}</div>
                        <div style="font-size: 0.85rem; color: var(--sketch-medium); margin-top: 4px;">
                            ${profile.branch} ‚Ä¢ ${profile.subscription_type || '–ê–±–æ–Ω–µ–º–µ–Ω—Ç'} ‚Ä¢ –û—Å—Ç–∞–ª–æ—Å—å: ${profile.remaining_classes || 0} –∑–∞–Ω—è—Ç–∏–π
                        </div>
                    </div>
                    <i class="fas fa-chevron-right" style="color: var(--acrylic-blue);"></i>
                </div>
            `;
            
            list.appendChild(button);
        });
        
        modal.classList.add('active');
    },
    
    selectProfile: function(profile) {
        this.selectedProfile = profile;
        this.selectedBranch = profile.branch;
        this.closeModal('profileSelectModal');
        this.loadProfileData();
        this.showBranchSelectionIfNeeded();
    },
    
    showBranchSelectionIfNeeded: function() {
        if (!this.selectedBranch) {
            const modal = document.getElementById('branchSelectModal');
            if (modal) {
                modal.classList.add('active');
            }
        }
    },
    
    selectBranch: function(branch) {
        this.selectedBranch = branch;
        this.closeModal('branchSelectModal');
        this.loadProfileData();
        this.navigateToPage('home');
    },
    
    // ==================== –ó–ê–ì–†–£–ó–ö–ê –î–ê–ù–ù–´–• ====================
    loadProfileData: async function() {
        if (!this.selectedProfile || !this.selectedBranch) return;
        
        try {
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
            await Promise.all([
                this.loadSchedule(),
                this.loadSubscription(),
                this.loadTeachers(),
                this.loadFAQ(),
                this.loadNews()
            ]);
            
            this.updateHomePage();
            
        } catch (error) {
            console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª—è:', error);
            this.showNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç—É–¥–∏–∏', 'error');
        }
    },
    
    loadSchedule: async function() {
        try {
            const response = await this.fetchWithAuth(this.API_BASE_URL + '/api/schedule', {
                method: 'POST',
                body: JSON.stringify({
                    profile_id: this.selectedProfile.id,
                    branch: this.selectedBranch
                })
            });
            
            if (response.ok) {
                const result = await response.json();
                if (result.success) {
                    this.scheduleData = result.data.schedule || [];
                }
            }
        } catch (error) {
            console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è:', error);
            this.scheduleData = this.getMockSchedule();
        }
    },
    
    loadSubscription: async function() {
        try {
            const response = await this.fetchWithAuth(this.API_BASE_URL + '/api/subscription', {
                method: 'POST',
                body: JSON.stringify({
                    deal_id: this.selectedProfile.deal_id
                })
            });
            
            if (response.ok) {
                const result = await response.json();
                if (result.success) {
                    this.subscriptionData = result.data.subscription;
                }
            }
        } catch (error) {
            console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞:', error);
            this.subscriptionData = this.getMockSubscription();
        }
    },
    
    loadTeachers: async function() {
        try {
            const response = await this.fetchWithAuth(this.API_BASE_URL + '/api/teachers', {
                method: 'POST',
                body: JSON.stringify({
                    branch: this.selectedBranch
                })
            });
            
            if (response.ok) {
                const result = await response.json();
                if (result.success) {
                    this.teachersData = result.data.teachers || [];
                }
            }
        } catch (error) {
            console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π:', error);
            this.teachersData = this.getMockTeachers();
        }
    },
    
    loadFAQ: async function() {
        try {
            const response = await fetch(this.API_BASE_URL + '/api/faq');
            if (response.ok) {
                const result = await response.json();
                if (result.success) {
                    this.faqData = result.data.faq || [];
                }
            }
        } catch (error) {
            console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ FAQ:', error);
            this.faqData = this.getMockFAQ();
        }
    },
    
    loadNews: async function() {
        try {
            const response = await fetch(this.API_BASE_URL + '/api/news');
            if (response.ok) {
                const result = await response.json();
                if (result.success) {
                    this.newsData = result.data.news || [];
                }
            }
        } catch (error) {
            console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–æ–≤–æ—Å—Ç–µ–π:', error);
            this.newsData = this.getMockNews();
        }
    },
    
    // ==================== –û–¢–û–ë–†–ê–ñ–ï–ù–ò–ï –î–ê–ù–ù–´–• ====================
    updateHomePage: function() {
        this.updateUpcomingLessons();
        this.updateSchoolNews();
    },
    
    updateUpcomingLessons: function() {
        const container = document.getElementById('upcomingLessons');
        if (!container) return;
        
        if (!this.scheduleData || this.scheduleData.length === 0) {
            container.innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <i class="fas fa-calendar-times" style="font-size: 3rem; color: var(--sketch-light); margin-bottom: 16px;"></i>
                    <h4 style="color: var(--sketch-dark); margin-bottom: 10px; font-family: 'Playfair Display', serif;">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç</h4>
                    <p style="color: var(--sketch-medium);">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞–Ω—è—Ç–∏–π –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –ø—Ä–æ—Ñ–∏–ª—è</p>
                    <div class="color-palette" style="justify-content: center; margin-top: 20px;">
                        <div class="color-chip" style="background: var(--acrylic-blue);"></div>
                        <div class="color-chip" style="background: var(--watercolor-purple);"></div>
                        <div class="color-chip" style="background: var(--oil-yellow);"></div>
                        <div class="color-chip" style="background: var(--pastel-green);"></div>
                    </div>
                </div>
            `;
            return;
        }
        
        // –§–∏–ª—å—Ç—Ä—É–µ–º –±–ª–∏–∂–∞–π—à–∏–µ –∑–∞–Ω—è—Ç–∏—è (–±–ª–∏–∂–∞–π—à–∏–µ 3 –¥–Ω—è)
        const today = new Date();
        const threeDaysLater = new Date(today);
        threeDaysLater.setDate(today.getDate() + 3);
        
        const upcomingLessons = this.scheduleData.filter(lesson => {
            const lessonDate = new Date(lesson.date);
            return lessonDate >= today && lessonDate <= threeDaysLater;
        }).slice(0, 3); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ 3 –±–ª–∏–∂–∞–π—à–∏—Ö
        
        if (upcomingLessons.length === 0) {
            container.innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <i class="fas fa-calendar-check" style="font-size: 3rem; color: var(--pastel-green); margin-bottom: 16px;"></i>
                    <h4 style="color: var(--sketch-dark); margin-bottom: 10px; font-family: 'Playfair Display', serif;">–ù–µ—Ç –±–ª–∏–∂–∞–π—à–∏—Ö –∑–∞–Ω—è—Ç–∏–π</h4>
                    <p style="color: var(--sketch-medium);">–ë–ª–∏–∂–∞–π—à–∏–µ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è –ø–æ—è–≤—è—Ç—Å—è –ø–æ–∑–∂–µ</p>
                    <div class="color-palette" style="justify-content: center; margin-top: 20px;">
                        <div class="color-chip" style="background: var(--acrylic-blue);"></div>
                        <div class="color-chip" style="background: var(--watercolor-purple);"></div>
                        <div class="color-chip" style="background: var(--oil-yellow);"></div>
                        <div class="color-chip" style="background: var(--pastel-green);"></div>
                    </div>
                </div>
            `;
            return;
        }
        
        let html = '<div style="display: flex; flex-direction: column; gap: 20px;">';
        
        upcomingLessons.forEach(lesson => {
            const lessonDate = new Date(lesson.date);
            const timeString = lesson.start_time ? lesson.start_time.substring(0, 5) : '';
            
            html += `
                <div class="schedule-lesson">
                    <div class="lesson-header">
                        <div class="lesson-time">${timeString}</div>
                        <span class="lesson-status ${lesson.status || 'normal'}">
                            ${this.getLessonStatusText(lesson.status)}
                        </span>
                    </div>
                    <div class="lesson-details">
                        <div style="font-weight: 600; margin-bottom: 8px; color: var(--sketch-dark); font-family: 'Playfair Display', serif;">${lesson.title || '–•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ'}</div>
                        <div class="lesson-teacher">
                            <i class="fas fa-paint-brush" style="color: var(--watercolor-purple);"></i>
                            ${lesson.teacher_name || '–•—É–¥–æ–∂–Ω–∏–∫-–ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å'}
                        </div>
                        ${lesson.note ? `
                            <div style="margin-top: 10px; padding: 10px; background: var(--gold-light); border-radius: var(--radius-sm); border-left: 3px solid var(--gold-leaf);">
                                <div style="display: flex; align-items: center; gap: 8px; color: var(--sketch-dark); font-size: 0.9rem;">
                                    <i class="fas fa-palette" style="color: var(--gold-leaf);"></i>
                                    <span>${lesson.note}</span>
                                </div>
                            </div>
                        ` : ''}
                    </div>
                </div>
            `;
        });
        
        html += '</div>';
        container.innerHTML = html;
    },
    
    updateSchoolNews: function() {
        const container = document.getElementById('schoolNews');
        if (!container) return;
        
        if (!this.newsData || this.newsData.length === 0) {
            container.innerHTML = `
                <div class="news-card" style="grid-column: 1 / -1; text-align: center; padding: 40px;">
                    <i class="fas fa-newspaper" style="font-size: 3rem; color: var(--sketch-light); margin-bottom: 16px;"></i>
                    <h4 style="color: var(--sketch-dark); margin-bottom: 10px; font-family: 'Playfair Display', serif;">–ù–æ–≤–æ—Å—Ç–µ–π –ø–æ–∫–∞ –Ω–µ—Ç</h4>
                    <p style="color: var(--sketch-medium);">–°–ª–µ–¥–∏—Ç–µ –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç—É–¥–∏–∏!</p>
                    <div class="color-palette" style="justify-content: center; margin-top: 20px;">
                        <div class="color-chip" style="background: var(--acrylic-blue);"></div>
                        <div class="color-chip" style="background: var(--watercolor-purple);"></div>
                        <div class="color-chip" style="background: var(--oil-yellow);"></div>
                        <div class="color-chip" style="background: var(--pastel-green);"></div>
                    </div>
                </div>
            `;
            return;
        }
        
        container.innerHTML = '';
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 3 –Ω–æ–≤–æ—Å—Ç–∏
        this.newsData.slice(0, 3).forEach(news => {
            const newsDate = new Date(news.date);
            const card = document.createElement('div');
            card.className = 'news-card';
            card.onclick = () => this.showNewsDetail(news);
            
            card.innerHTML = `
                <div class="news-date">
                    <i class="far fa-calendar"></i>
                    ${newsDate.toLocaleDateString('ru-RU')}
                </div>
                <div class="news-title">${news.title}</div>
                <div class="news-preview">${news.preview || news.content.substring(0, 150)}...</div>
                ${news.category ? `
                    <div style="margin-top: 15px;">
                        <span style="display: inline-flex; align-items: center; gap: 6px; padding: 6px 12px; background: var(--acrylic-blue-light); color: var(--acrylic-blue); border-radius: 20px; font-size: 0.8rem; font-weight: 600;">
                            <i class="fas fa-tag"></i> ${news.category}
                        </span>
                    </div>
                ` : ''}
            `;
            
            container.appendChild(card);
        });
    },
    
    renderSchedulePage: function() {
        const branchName = document.getElementById('branchName');
        const scheduleWeekStart = document.getElementById('scheduleWeekStart');
        const scheduleWeekEnd = document.getElementById('scheduleWeekEnd');
        const studentInfo = document.getElementById('studentInfo');
        const scheduleContainer = document.getElementById('scheduleContainer');
        
        if (!branchName || !scheduleContainer) return;
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∏
        if (branchName) branchName.textContent = this.selectedBranch ? `–•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —Å—Ç—É–¥–∏—è "${this.selectedBranch}"` : '–ù–µ –≤—ã–±—Ä–∞–Ω';
        
        // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Ç–µ–∫—É—â—É—é –Ω–µ–¥–µ–ª—é
        const now = new Date();
        const startOfWeek = new Date(now);
        startOfWeek.setDate(now.getDate() - now.getDay() + 1); // –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫
        const endOfWeek = new Date(startOfWeek);
        endOfWeek.setDate(startOfWeek.getDate() + 6); // –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ
        
        if (scheduleWeekStart) {
            scheduleWeekStart.textContent = startOfWeek.toLocaleDateString('ru-RU');
        }
        if (scheduleWeekEnd) {
            scheduleWeekEnd.textContent = endOfWeek.toLocaleDateString('ru-RU');
        }
        
        // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—á–µ–Ω–∏–∫–µ
        if (studentInfo && this.selectedProfile) {
            studentInfo.innerHTML = `
                <div style="display: flex; flex-direction: column; gap: 12px;">
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div style="width: 50px; height: 50px; background: var(--artistic-gradient); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem;">
                            <i class="fas fa-palette"></i>
                        </div>
                        <div style="flex: 1;">
                            <div style="font-weight: 600; color: var(--sketch-dark); font-size: 1.1rem; font-family: 'Playfair Display', serif;">
                                ${this.selectedProfile.student_name}
                            </div>
                            <div style="font-size: 0.9rem; color: var(--sketch-medium); margin-top: 4px;">
                                ${this.selectedProfile.subscription_type || '–ê–±–æ–Ω–µ–º–µ–Ω—Ç –≤ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—É—é —Å—Ç—É–¥–∏—é'} ‚Ä¢ 
                                –û—Å—Ç–∞–ª–æ—Å—å –∑–∞–Ω—è—Ç–∏–π: <strong style="color: var(--acrylic-blue);">${this.selectedProfile.remaining_classes || 0}</strong>
                            </div>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 10px; padding: 10px; background: white; border-radius: var(--radius); border: 1px solid var(--acrylic-blue);">
                        <i class="fas fa-paint-brush" style="color: var(--watercolor-purple);"></i>
                        <div style="font-size: 0.9rem; color: var(--sketch-dark);">
                            –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å: <strong>${this.selectedProfile.teacher_name || '–ü–æ–∫–∞ –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω'}</strong>
                        </div>
                    </div>
                </div>
            `;
        }
        
        // –†–µ–Ω–¥–µ—Ä–∏–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
        if (!this.scheduleData || this.scheduleData.length === 0) {
            scheduleContainer.innerHTML = `
                <div style="text-align: center; padding: 50px;">
                    <i class="fas fa-calendar-times" style="font-size: 3rem; color: var(--sketch-light); margin-bottom: 16px;"></i>
                    <h4 style="color: var(--sketch-dark); margin-bottom: 10px; font-family: 'Playfair Display', serif;">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç</h4>
                    <p style="color: var(--sketch-medium); margin-bottom: 20px; max-width: 400px; margin-left: auto; margin-right: auto;">
                        –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞–Ω—è—Ç–∏–π –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Å—Ç—É–¥–∏–∏ –ø–æ–∫–∞ –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ
                    </p>
                    <button class="btn btn-artistic" onclick="app.refreshSchedule()">
                        <i class="fas fa-sync-alt"></i> –û–±–Ω–æ–≤–∏—Ç—å
                    </button>
                    <div class="color-palette" style="justify-content: center; margin-top: 20px;">
                        <div class="color-chip" style="background: var(--acrylic-blue);"></div>
                        <div class="color-chip" style="background: var(--watercolor-purple);"></div>
                        <div class="color-chip" style="background: var(--oil-yellow);"></div>
                        <div class="color-chip" style="background: var(--pastel-green);"></div>
                    </div>
                </div>
            `;
            return;
        }
        
        // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –∑–∞–Ω—è—Ç–∏—è –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏
        const scheduleByDay = {};
        const daysOfWeek = ['–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫', '–≤—Ç–æ—Ä–Ω–∏–∫', '—Å—Ä–µ–¥–∞', '—á–µ—Ç–≤–µ—Ä–≥', '–ø—è—Ç–Ω–∏—Ü–∞', '—Å—É–±–±–æ—Ç–∞', '–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ'];
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—É—Å—Ç—ã–µ –º–∞—Å—Å–∏–≤—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–Ω—è
        daysOfWeek.forEach(day => {
            scheduleByDay[day] = [];
        });
        
        // –ó–∞–ø–æ–ª–Ω—è–µ–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
        this.scheduleData.forEach(lesson => {
            if (lesson.day_of_week && scheduleByDay[lesson.day_of_week]) {
                scheduleByDay[lesson.day_of_week].push(lesson);
            }
        });
        
        // –°–æ—Ä—Ç–∏—Ä—É–µ–º –∑–∞–Ω—è—Ç–∏—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –≤ –∫–∞–∂–¥–æ–º –¥–Ω–µ
        daysOfWeek.forEach(day => {
            scheduleByDay[day].sort((a, b) => {
                return (a.start_time || '').localeCompare(b.start_time || '');
            });
        });
        
        // –†–µ–Ω–¥–µ—Ä–∏–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
        let scheduleHtml = '';
        
        daysOfWeek.forEach(day => {
            const lessons = scheduleByDay[day];
            if (lessons.length === 0) return;
            
            scheduleHtml += `
                <div class="schedule-day">
                    <div class="schedule-day-header">
                        <div class="schedule-day-title">${this.capitalizeFirstLetter(day)}</div>
                        <div style="font-size: 0.9rem; color: var(--acrylic-blue); font-weight: 500;">
                            ${lessons.length} –∑–∞–Ω—è—Ç–∏–π
                        </div>
                    </div>
            `;
            
            lessons.forEach(lesson => {
                const timeString = lesson.start_time ? lesson.start_time.substring(0, 5) : '';
                const endTimeString = lesson.end_time ? lesson.end_time.substring(0, 5) : '';
                
                scheduleHtml += `
                    <div class="schedule-lesson">
                        <div class="lesson-header">
                            <div class="lesson-time">${timeString}${endTimeString ? ` - ${endTimeString}` : ''}</div>
                            <span class="lesson-status ${lesson.status || 'normal'}">
                                ${this.getLessonStatusText(lesson.status)}
                            </span>
                        </div>
                        <div class="lesson-details">
                            <div style="font-weight: 600; margin-bottom: 8px; color: var(--sketch-dark); font-family: 'Playfair Display', serif;">${lesson.title || '–•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ'}</div>
                            <div class="lesson-teacher">
                                <i class="fas fa-paint-brush" style="color: var(--watercolor-purple);"></i>
                                ${lesson.teacher_name || '–•—É–¥–æ–∂–Ω–∏–∫-–ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å'}
                            </div>
                            ${lesson.status_note ? `
                                <div style="margin-top: 10px; padding: 10px; background: var(--oil-yellow-light); border-radius: var(--radius-sm); border-left: 3px solid var(--oil-yellow);">
                                    <div style="display: flex; align-items: center; gap: 8px; color: #D68900; font-size: 0.9rem;">
                                        <i class="fas fa-info-circle"></i>
                                        <span>${lesson.status_note}</span>
                                    </div>
                                </div>
                            ` : ''}
                            ${lesson.materials ? `
                                <div style="margin-top: 10px; padding: 10px; background: var(--acrylic-blue-light); border-radius: var(--radius-sm);">
                                    <div style="display: flex; align-items: center; gap: 8px; color: var(--acrylic-blue); font-size: 0.9rem;">
                                        <i class="fas fa-palette"></i>
                                        <span>–ú–∞—Ç–µ—Ä–∏–∞–ª—ã: ${lesson.materials}</span>
                                    </div>
                                </div>
                            ` : ''}
                        </div>
                    </div>
                `;
            });
            
            scheduleHtml += '</div>';
        });
        
        scheduleContainer.innerHTML = scheduleHtml || `
            <div style="text-align: center; padding: 50px;">
                <i class="fas fa-calendar-check" style="font-size: 3rem; color: var(--pastel-green); margin-bottom: 16px;"></i>
                <h4 style="color: var(--sketch-dark); margin-bottom: 10px; font-family: 'Playfair Display', serif;">–ù–µ—Ç –∑–∞–Ω—è—Ç–∏–π –Ω–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ</h4>
                <p style="color: var(--sketch-medium); max-width: 400px; margin-left: auto; margin-right: auto;">
                    –•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è –ø–æ—è–≤—è—Ç—Å—è –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏ –ø–æ–∑–∂–µ. –û—Ç–ª–∏—á–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–∏!
                </p>
                <div class="color-palette" style="justify-content: center; margin-top: 20px;">
                    <div class="color-chip" style="background: var(--acrylic-blue);"></div>
                    <div class="color-chip" style="background: var(--watercolor-purple);"></div>
                    <div class="color-chip" style="background: var(--oil-yellow);"></div>
                    <div class="color-chip" style="background: var(--pastel-green);"></div>
                </div>
            </div>
        `;
    },
    
    renderSubscriptionPage: function() {
        const subscriptionInfo = document.getElementById('subscriptionInfo');
        const visitsHistory = document.getElementById('visitsHistory');
        
        if (!subscriptionInfo || !visitsHistory) return;
        
        if (!this.subscriptionData) {
            subscriptionInfo.innerHTML = `
                <div style="text-align: center; padding: 50px;">
                    <div class="spinner"></div>
                    <p class="mt-20" style="color: var(--sketch-medium);">–ó–∞–≥—Ä—É–∑–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∞–±–æ–Ω–µ–º–µ–Ω—Ç–µ...</p>
                </div>
            `;
            visitsHistory.innerHTML = '';
            return;
        }
        
        const sub = this.subscriptionData;
        const totalClasses = sub.total_classes || 0;
        const remainingClasses = sub.remaining_classes || 0;
        const usedClasses = totalClasses - remainingClasses;
        const progressPercentage = totalClasses > 0 ? (usedClasses / totalClasses) * 100 : 0;
        
        // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–±–æ–Ω–µ–º–µ–Ω—Ç–µ
        subscriptionInfo.innerHTML = `
            <div class="subscription-header">
                <div>
                    <h3 style="background: var(--artistic-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; display: inline-block;">${sub.subscription_type || '–ê–±–æ–Ω–µ–º–µ–Ω—Ç –≤ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—É—é —Å—Ç—É–¥–∏—é'}</h3>
                    <p style="color: var(--sketch-medium); font-size: 1rem; margin-top: 8px;">
                        <i class="fas fa-palette" style="color: var(--acrylic-blue);"></i>
                        –°—Ç—É–¥–∏—è: ${sub.branch || this.selectedBranch || '–ù–µ —É–∫–∞–∑–∞–Ω–∞'}
                    </p>
                </div>
                <span style="background: ${remainingClasses > 0 ? 'var(--pastel-green-light)' : 'var(--pastel-red-light)'}; 
                      color: ${remainingClasses > 0 ? 'var(--pastel-green)' : 'var(--pastel-red)'}; 
                      padding: 8px 20px; border-radius: 20px; font-size: 0.9rem; font-weight: 600; border: 2px solid ${remainingClasses > 0 ? 'var(--pastel-green)' : 'var(--pastel-red)'};">
                    ${remainingClasses > 0 ? 'üé® –ê–∫—Ç–∏–≤–µ–Ω' : 'üñºÔ∏è –ó–∞–≤–µ—Ä—à–µ–Ω'}
                </span>
            </div>
            
            <div class="subscription-stats">
                <div class="subscription-stat">
                    <div class="subscription-stat-value">${totalClasses}</div>
                    <div class="subscription-stat-label">–í—Å–µ–≥–æ –∑–∞–Ω—è—Ç–∏–π</div>
                </div>
                
                <div class="subscription-stat">
                    <div class="subscription-stat-value">${remainingClasses}</div>
                    <div class="subscription-stat-label">–û—Å—Ç–∞–ª–æ—Å—å –∑–∞–Ω—è—Ç–∏–π</div>
                </div>
                
                <div class="subscription-stat">
                    <div class="subscription-stat-value">${usedClasses}</div>
                    <div class="subscription-stat-label">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ</div>
                </div>
                
                <div class="subscription-stat">
                    <div class="subscription-stat-value">${sub.expiration_date ? new Date(sub.expiration_date).toLocaleDateString('ru-RU') : '–ù–µ —É–∫–∞–∑–∞–Ω'}</div>
                    <div class="subscription-stat-label">–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è</div>
                </div>
            </div>
            
            <div style="margin-top: 30px;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 12px; font-size: 0.95rem;">
                    <span style="color: var(--sketch-dark); font-weight: 500;">–ü—Ä–æ–≥—Ä–µ—Å—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞</span>
                    <span style="color: var(--acrylic-blue); font-weight: 600;">${usedClasses}/${totalClasses} (${progressPercentage.toFixed(0)}%)</span>
                </div>
                <div style="height: 12px; background: var(--acrylic-blue-light); border-radius: 6px; overflow: hidden; border: 1px solid var(--acrylic-blue);">
                    <div style="width: ${progressPercentage}%; height: 100%; background: var(--artistic-gradient); transition: width 0.8s ease;"></div>
                </div>
                <div style="display: flex; justify-content: space-between; margin-top: 8px; font-size: 0.85rem; color: var(--sketch-light);">
                    <span>–ù–∞—á–∞–ª–æ</span>
                    <span>–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ</span>
                </div>
            </div>
            
            ${sub.next_payment_date ? `
                <div style="margin-top: 25px; padding: 15px; background: var(--gold-light); border-radius: var(--radius); border: 2px solid var(--gold-leaf);">
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <i class="fas fa-calendar-plus" style="color: var(--gold-leaf); font-size: 1.2rem;"></i>
                        <div>
                            <div style="font-weight: 600; color: var(--sketch-dark);">–°–ª–µ–¥—É—é—â–∞—è –æ–ø–ª–∞—Ç–∞</div>
                            <div style="color: var(--sketch-medium); font-size: 0.95rem; margin-top: 4px;">
                                ${new Date(sub.next_payment_date).toLocaleDateString('ru-RU')}
                            </div>
                        </div>
                    </div>
                </div>
            ` : ''}
        `;
        
        // –ò—Å—Ç–æ—Ä–∏—è –ø–æ—Å–µ—â–µ–Ω–∏–π
        if (!sub.visits || sub.visits.length === 0) {
            visitsHistory.innerHTML = `
                <div style="text-align: center; padding: 40px; color: var(--sketch-medium);">
                    <i class="fas fa-history" style="font-size: 2.5rem; opacity: 0.2; margin-bottom: 12px;"></i>
                    <p style="margin-bottom: 8px; font-weight: 500; color: var(--sketch-dark);">–ò—Å—Ç–æ—Ä–∏—è –ø–æ—Å–µ—â–µ–Ω–∏–π –ø—É—Å—Ç–∞</p>
                    <p style="font-size: 0.9rem;">–ù–∞—á–Ω–∏—Ç–µ –ø–æ—Å–µ—â–∞—Ç—å —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∑–¥–µ—Å—å</p>
                    <div class="color-palette" style="justify-content: center; margin-top: 20px;">
                        <div class="color-chip" style="background: var(--acrylic-blue);"></div>
                        <div class="color-chip" style="background: var(--watercolor-purple);"></div>
                        <div class="color-chip" style="background: var(--oil-yellow);"></div>
                        <div class="color-chip" style="background: var(--pastel-green);"></div>
                    </div>
                </div>
            `;
            return;
        }
        
        let visitsHtml = '<div style="max-height: 350px; overflow-y: auto; padding-right: 5px;">';
        
        sub.visits.slice(0, 10).forEach(visit => { // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 –ø–æ—Å–µ—â–µ–Ω–∏–π
            const visitDate = new Date(visit.date);
            visitsHtml += `
                <div class="visit-item">
                    <div class="visit-date">
                        <i class="far fa-calendar" style="color: var(--acrylic-blue);"></i>
                        ${visitDate.toLocaleDateString('ru-RU')} ${visit.time || ''}
                        ${visit.teacher_name ? `<span style="margin-left: 12px; color: var(--sketch-medium);"><i class="fas fa-paint-brush"></i> ${visit.teacher_name}</span>` : ''}
                    </div>
                    <span class="visit-status ${visit.status || 'attended'}">
                        ${visit.status === 'attended' ? 'üé® –ü–æ—Å–µ—â–µ–Ω–æ' : '‚è±Ô∏è –ü—Ä–æ–ø—É—â–µ–Ω–æ'}
                    </span>
                </div>
            `;
        });
        
        visitsHtml += '</div>';
        
        if (sub.visits.length > 10) {
            visitsHtml += `
                <div style="text-align: center; margin-top: 15px; padding-top: 15px; border-top: 1px solid var(--acrylic-blue-light);">
                    <span style="color: var(--sketch-medium); font-size: 0.9rem;">
                        –ò –µ—â–µ ${sub.visits.length - 10} –ø–æ—Å–µ—â–µ–Ω–∏–π
                    </span>
                </div>
            `;
        }
        
        visitsHistory.innerHTML = visitsHtml;
    },
    
    renderTeachersPage: function() {
        const teachersList = document.getElementById('teachersList');
        if (!teachersList) return;
        
        if (!this.teachersData || this.teachersData.length === 0) {
            teachersList.innerHTML = `
                <div class="text-center" style="grid-column: 1 / -1; padding: 50px;">
                    <i class="fas fa-chalkboard-teacher" style="font-size: 3rem; color: var(--sketch-light); margin-bottom: 16px;"></i>
                    <h4 style="color: var(--sketch-dark); margin-bottom: 10px; font-family: 'Playfair Display', serif;">–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h4>
                    <p style="color: var(--sketch-medium; max-width: 400px; margin-left: auto; margin-right: auto;">
                        –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ö—É–¥–æ–∂–Ω–∏–∫–∞—Ö-–ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è—Ö –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
                    </p>
                    <div class="color-palette" style="justify-content: center; margin-top: 20px;">
                        <div class="color-chip" style="background: var(--acrylic-blue);"></div>
                        <div class="color-chip" style="background: var(--watercolor-purple);"></div>
                        <div class="color-chip" style="background: var(--oil-yellow);"></div>
                        <div class="color-chip" style="background: var(--pastel-green);"></div>
                    </div>
                </div>
            `;
            return;
        }
        
        teachersList.innerHTML = '';
        
        // –§–∏–ª—å—Ç—Ä—É–µ–º –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –ø–æ —Ñ–∏–ª–∏–∞–ª—É, –µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω
        const filteredTeachers = this.selectedBranch ? 
            this.teachersData.filter(teacher => teacher.branch === this.selectedBranch || !teacher.branch) :
            this.teachersData;
        
        filteredTeachers.forEach(teacher => {
            const card = document.createElement('div');
            card.className = 'teacher-card';
            
            // –¶–≤–µ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
            let teacherColor = 'var(--acrylic-blue)';
            if (teacher.specialization?.toLowerCase().includes('–∞–∫–≤–∞—Ä–µ–ª—å')) teacherColor = 'var(--watercolor-purple)';
            if (teacher.specialization?.toLowerCase().includes('–º–∞—Å–ª–æ')) teacherColor = 'var(--oil-yellow)';
            if (teacher.specialization?.toLowerCase().includes('–≥—Ä–∞—Ñ–∏–∫')) teacherColor = 'var(--sketch-dark)';
            
            card.innerHTML = `
                <div class="teacher-avatar" style="background: ${teacherColor};">
                    ${teacher.avatar_url ? 
                        `<img src="${teacher.avatar_url}" alt="${teacher.name}" onerror="this.onerror=null; this.src=''; this.parentElement.innerHTML='<i class=\\'fas fa-paint-brush\\'></i>';" />` : 
                        `<i class="fas fa-paint-brush"></i>`
                    }
                </div>
                <div class="teacher-name">${teacher.name}</div>
                <div class="teacher-qualification">${teacher.qualification || '–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ö—É–¥–æ–∂–Ω–∏–∫-–ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å'}</div>
                <div style="margin-top: 15px;">
                    <span class="teacher-specialization" style="background: ${teacherColor}15; color: ${teacherColor}; border-color: ${teacherColor};">
                        <i class="fas fa-palette"></i>
                        ${teacher.specialization || '–û–±—â–∞—è —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞'}
                    </span>
                </div>
                ${teacher.branch ? `
                    <div style="margin-top: 12px; font-size: 0.9rem; color: var(--sketch-medium); display: flex; align-items: center; gap: 8px; justify-content: center;">
                        <i class="fas fa-map-marker-alt"></i> ${teacher.branch}
                    </div>
                ` : ''}
                ${teacher.experience ? `
                    <div style="margin-top: 10px; font-size: 0.85rem; color: var(--sketch-light); display: flex; align-items: center; gap: 6px; justify-content: center;">
                        <i class="fas fa-award"></i> –û–ø—ã—Ç: ${teacher.experience}
                    </div>
                ` : ''}
            `;
            
            teachersList.appendChild(card);
        });
    },
    
    renderFAQPage: function() {
        const faqList = document.getElementById('faqList');
        if (!faqList) return;
        
        if (!this.faqData || this.faqData.length === 0) {
            faqList.innerHTML = `
                <div style="text-align: center; padding: 50px;">
                    <i class="fas fa-question-circle" style="font-size: 3rem; color: var(--sketch-light); margin-bottom: 16px;"></i>
                    <h4 style="color: var(--sketch-dark); margin-bottom: 10px; font-family: 'Playfair Display', serif;">FAQ –Ω–µ –Ω–∞–π–¥–µ–Ω</h4>
                    <p style="color: var(--sketch-medium; max-width: 400px; margin-left: auto; margin-right: auto;">
                        –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã –æ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç—É–¥–∏–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã
                    </p>
                    <div class="color-palette" style="justify-content: center; margin-top: 20px;">
                        <div class="color-chip" style="background: var(--acrylic-blue);"></div>
                        <div class="color-chip" style="background: var(--watercolor-purple);"></div>
                        <div class="color-chip" style="background: var(--oil-yellow);"></div>
                        <div class="color-chip" style="background: var(--pastel-green);"></div>
                    </div>
                </div>
            `;
            return;
        }
        
        faqList.innerHTML = '';
        
        this.faqData.forEach((item, index) => {
            const faqItem = document.createElement('div');
            faqItem.className = 'faq-item';
            
            faqItem.innerHTML = `
                <div class="faq-question" onclick="app.toggleFAQ(${index})">
                    <span>${item.question}</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    ${item.answer}
                    ${item.category ? `
                        <div style="margin-top: 15px;">
                            <span style="display: inline-flex; align-items: center; gap: 6px; padding: 6px 12px; background: var(--acrylic-blue-light); color: var(--acrylic-blue); border-radius: 20px; font-size: 0.8rem; font-weight: 600;">
                                <i class="fas fa-tag"></i> ${item.category}
                            </span>
                        </div>
                    ` : ''}
                </div>
            `;
            
            faqList.appendChild(faqItem);
        });
    },
    
    renderNewsPage: function() {
        const newsList = document.getElementById('newsList');
        if (!newsList) return;
        
        if (!this.newsData || this.newsData.length === 0) {
            newsList.innerHTML = `
                <div class="news-card" style="grid-column: 1 / -1; text-align: center; padding: 50px;">
                    <i class="fas fa-newspaper" style="font-size: 3rem; color: var(--sketch-light); margin-bottom: 16px;"></i>
                    <h4 style="color: var(--sketch-dark); margin-bottom: 10px; font-family: 'Playfair Display', serif;">–ù–æ–≤–æ—Å—Ç–µ–π –ø–æ–∫–∞ –Ω–µ—Ç</h4>
                    <p style="color: var(--sketch-medium; max-width: 400px; margin-left: auto; margin-right: auto;">
                        –°–ª–µ–¥–∏—Ç–µ –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç—É–¥–∏–∏!
                    </p>
                    <div class="color-palette" style="justify-content: center; margin-top: 20px;">
                        <div class="color-chip" style="background: var(--acrylic-blue);"></div>
                        <div class="color-chip" style="background: var(--watercolor-purple);"></div>
                        <div class="color-chip" style="background: var(--oil-yellow);"></div>
                        <div class="color-chip" style="background: var(--pastel-green);"></div>
                    </div>
                </div>
            `;
            return;
        }
        
        newsList.innerHTML = '';
        
        this.newsData.forEach(news => {
            const newsDate = new Date(news.date);
            const card = document.createElement('div');
            card.className = 'news-card';
            card.onclick = () => this.showNewsDetail(news);
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ü–≤–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
            let categoryColor = 'var(--acrylic-blue)';
            if (news.category === '–í—ã—Å—Ç–∞–≤–∫–∞') categoryColor = 'var(--watercolor-purple)';
            if (news.category === '–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å') categoryColor = 'var(--oil-yellow)';
            if (news.category === '–ö–æ–Ω–∫—É—Ä—Å') categoryColor = 'var(--pastel-green)';
            
            card.innerHTML = `
                <div class="news-date">
                    <i class="far fa-calendar"></i>
                    ${newsDate.toLocaleDateString('ru-RU')}
                </div>
                <div class="news-title">${news.title}</div>
                <div class="news-preview">${news.preview || news.content.substring(0, 150)}...</div>
                ${news.category ? `
                    <div style="margin-top: 15px;">
                        <span style="display: inline-flex; align-items: center; gap: 6px; padding: 6px 12px; background: ${categoryColor}15; color: ${categoryColor}; border-radius: 20px; font-size: 0.8rem; font-weight: 600; border: 1px solid ${categoryColor};">
                            <i class="fas fa-tag"></i> ${news.category}
                        </span>
                    </div>
                ` : ''}
                ${news.image_url ? `
                    <div style="margin-top: 15px; border-radius: var(--radius); overflow: hidden; border: 2px solid var(--acrylic-blue);">
                        <img src="${news.image_url}" alt="${news.title}" style="width: 100%; height: 180px; object-fit: cover;" onerror="this.style.display='none'" />
                    </div>
                ` : ''}
            `;
            
            newsList.appendChild(card);
        });
    },
    
    // ==================== –°–í–Ø–ó–¨ –° –ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–û–†–û–ú ====================
    contactAdmin: function() {
        if (!this.selectedBranch) {
            this.showNotification('–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—É—é —Å—Ç—É–¥–∏—é', 'warning');
            this.showBranchSelectionIfNeeded();
            return;
        }
        
        const modal = document.getElementById('contactAdminModal');
        const branchName = document.getElementById('contactBranchName');
        const autoMessage = document.getElementById('autoMessage');
        
        if (!modal || !branchName || !autoMessage) return;
        
        branchName.textContent = this.selectedBranch;
        
        // –§–æ—Ä–º–∏—Ä—É–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        let message = '–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –£ –º–µ–Ω—è –≤–æ–ø—Ä–æ—Å –ø–æ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç—É–¥–∏–∏. ';
        
        if (this.selectedProfile) {
            message += `–£—á–µ–Ω–∏–∫: ${this.selectedProfile.student_name}. `;
        }
        
        if (this.selectedBranch) {
            message += `–°—Ç—É–¥–∏—è: ${this.selectedBranch}. `;
        }
        
        autoMessage.textContent = message;
        
        modal.classList.add('active');
    },
    
    contactAdminForRenewal: function() {
        this.contactAdmin();
        
        // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ–¥–ª–µ–Ω–∏–∏ –≤ —Å–æ–æ–±—â–µ–Ω–∏–µ
        setTimeout(() => {
            const autoMessage = document.getElementById('autoMessage');
            if (autoMessage) {
                const currentMessage = autoMessage.textContent;
                autoMessage.textContent = currentMessage + ' –ü—Ä–æ—à—É –ø–æ–º–æ—á—å —Å –ø—Ä–æ–¥–ª–µ–Ω–∏–µ–º –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ –≤ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—É—é —Å—Ç—É–¥–∏—é.';
            }
        }, 100);
    },
    
    openAdminChat: function() {
        // –í Telegram Mini App –æ—Ç–∫—Ä—ã–≤–∞–µ–º —á–∞—Ç —Å –±–æ—Ç–æ–º
        if (window.Telegram && Telegram.WebApp) {
            const tg = Telegram.WebApp;
            
            // –û—Ç–∫—Ä—ã–≤–∞–µ–º —á–∞—Ç —Å –±–æ—Ç–æ–º
            tg.openTelegramLink('https://t.me/your_art_bot_username');
            
            // –ú–æ–∂–Ω–æ —Ç–∞–∫–∂–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –±–æ—Ç–∞
            const message = document.getElementById('autoMessage').textContent;
            tg.sendData(JSON.stringify({
                action: 'contact_admin',
                message: message,
                branch: this.selectedBranch,
                student_name: this.selectedProfile ? this.selectedProfile.student_name : ''
            }));
        } else {
            // –î–ª—è –≤–µ–±-–≤–µ—Ä—Å–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
            this.showNotification('–ß–∞—Ç —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç—É–¥–∏–∏ –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –≤ Telegram', 'info');
        }
        
        this.closeModal('contactAdminModal');
    },
    
    callAdmin: function() {
        // –ù–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ –¥–ª—è —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å—Ç—É–¥–∏–π
        const phoneNumbers = {
            '–°–≤–∏–±–ª–æ–≤–æ': '+7 (XXX) XXX-XX-XX',
            '–ß–µ—Ä—Ç–∞–Ω–æ–≤–æ': '+7 (XXX) XXX-XX-XX'
        };
        
        const phoneNumber = phoneNumbers[this.selectedBranch] || '+7 (XXX) XXX-XX-XX';
        
        if (confirm(`–ü–æ–∑–≤–æ–Ω–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç—É–¥–∏–∏ ${this.selectedBranch}?\n${phoneNumber}`)) {
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç window.location.href = 'tel:' + phoneNumber;
            this.showNotification(`–¢–µ–ª–µ—Ñ–æ–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç—É–¥–∏–∏: ${phoneNumber}`, 'info');
        }
        
        this.closeModal('contactAdminModal');
    },
    
    // ==================== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ====================
    getLessonStatusText: function(status) {
        const statusMap = {
            'normal': '–ü–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é',
            'cancelled': '–û—Ç–º–µ–Ω–µ–Ω–æ',
            'changed': '–ó–∞–º–µ–Ω–∞',
            'rescheduled': '–ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ'
        };
        return statusMap[status] || '–ü–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é';
    },
    
    capitalizeFirstLetter: function(string) {
        return string.charAt(0).toUpperCase() + string.slice(1);
    },
    
    toggleFAQ: function(index) {
        const answer = document.querySelectorAll('.faq-answer')[index];
        const question = document.querySelectorAll('.faq-question')[index];
        const icon = question.querySelector('i');
        
        if (answer.classList.contains('active')) {
            answer.classList.remove('active');
            question.classList.remove('active');
            icon.classList.remove('fa-chevron-up');
            icon.classList.add('fa-chevron-down');
        } else {
            // –ó–∞–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –¥—Ä—É–≥–∏–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ FAQ
            document.querySelectorAll('.faq-answer').forEach((ans, i) => {
                if (i !== index) {
                    ans.classList.remove('active');
                    document.querySelectorAll('.faq-question')[i].classList.remove('active');
                    document.querySelectorAll('.faq-question i')[i].classList.remove('fa-chevron-up');
                    document.querySelectorAll('.faq-question i')[i].classList.add('fa-chevron-down');
                }
            });
            
            answer.classList.add('active');
            question.classList.add('active');
            icon.classList.remove('fa-chevron-down');
            icon.classList.add('fa-chevron-up');
        }
    },
    
    showNewsDetail: function(news) {
        const modal = document.createElement('div');
        modal.className = 'modal';
        modal.style.display = 'flex';
        
        const newsDate = new Date(news.date);
        
        modal.innerHTML = `
            <div class="modal-content" style="max-width: 700px;">
                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px;">
                    <h3 style="color: var(--sketch-dark); font-family: 'Playfair Display', serif;">${news.title}</h3>
                    <button class="btn btn-secondary" onclick="this.closest('.modal').remove()" style="padding: 8px 12px;">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div style="color: var(--sketch-light); font-size: 0.95rem; margin-bottom: 20px; display: flex; align-items: center; gap: 12px;">
                    <i class="far fa-calendar" style="color: var(--acrylic-blue);"></i>
                    ${newsDate.toLocaleDateString('ru-RU')}
                    ${news.author ? `
                        <span style="display: flex; align-items: center; gap: 6px; margin-left: 15px;">
                            <i class="fas fa-user" style="color: var(--watercolor-purple);"></i>
                            ${news.author}
                        </span>
                    ` : ''}
                </div>
                
                ${news.image_url ? `
                    <div style="margin-bottom: 20px; border-radius: var(--radius); overflow: hidden; border: 3px solid var(--acrylic-blue);">
                        <img src="${news.image_url}" alt="${news.title}" style="width: 100%; max-height: 400px; object-fit: cover;" />
                    </div>
                ` : ''}
                
                <div style="color: var(--sketch-dark); line-height: 1.7; font-size: 1.05rem;">
                    ${news.content}
                </div>
                
                ${news.tags ? `
                    <div style="margin-top: 25px; padding-top: 20px; border-top: 1px solid var(--acrylic-blue-light);">
                        <div style="display: flex; flex-wrap: wrap; gap: 8px;">
                            ${news.tags.split(',').map(tag => `
                                <span style="padding: 6px 12px; background: var(--acrylic-blue-light); color: var(--acrylic-blue); border-radius: 20px; font-size: 0.85rem;">
                                    #${tag.trim()}
                                </span>
                            `).join('')}
                        </div>
                    </div>
                ` : ''}
                
                <div style="margin-top: 30px;">
                    <button class="btn btn-artistic w-100" onclick="this.closest('.modal').remove()">
                        –ó–∞–∫—Ä—ã—Ç—å
                    </button>
                </div>
            </div>
        `;
        
        document.body.appendChild(modal);
    },
    
    refreshSchedule: function() {
        this.loadSchedule().then(() => {
            this.renderSchedulePage();
            this.showNotification('–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç—É–¥–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–æ', 'success');
        });
    },
    
    // ==================== –£–ü–†–ê–í–õ–ï–ù–ò–ï –î–ê–ù–ù–´–ú–ò ====================
    saveUserData: function() {
        if (this.currentUser) {
            localStorage.setItem('artStudio_user', JSON.stringify(this.currentUser));
        }
        if (this.selectedProfile) {
            localStorage.setItem('artStudio_profile', JSON.stringify(this.selectedProfile));
        }
        if (this.selectedBranch) {
            localStorage.setItem('artStudio_branch', this.selectedBranch);
        }
    },
    
    loadSavedData: function() {
        const savedUser = localStorage.getItem('artStudio_user');
        const savedProfile = localStorage.getItem('artStudio_profile');
        const savedBranch = localStorage.getItem('artStudio_branch');
        
        if (savedUser) {
            this.currentUser = JSON.parse(savedUser);
        }
        if (savedProfile) {
            this.selectedProfile = JSON.parse(savedProfile);
        }
        if (savedBranch) {
            this.selectedBranch = savedBranch;
        }
    },
    
    // ==================== –£–ü–†–ê–í–õ–ï–ù–ò–ï –ò–ù–¢–ï–†–§–ï–ô–°–û–ú ====================
    updateUserInterface: function() {
        const userAvatar = document.getElementById('userAvatar');
        const menuUserName = document.getElementById('menuUserName');
        const menuUserEmail = document.getElementById('menuUserEmail');
        const loginMenuBtn = document.getElementById('loginMenuBtn');
        const logoutMenuBtn = document.getElementById('logoutMenuBtn');
        const bottomNav = document.getElementById('bottomNav');
        const floatingBtn = document.getElementById('floatingAdminBtn');
        
        if (this.currentUser) {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∞–≤–∞—Ç–∞—Ä —Å –ú–æ–Ω–∞ –õ–∏–∑–æ–π
            if (userAvatar) {
                userAvatar.style.display = 'flex';
                userAvatar.classList.add('mona-lisa-avatar');
                
                // –ï—Å–ª–∏ –µ—Å—Ç—å —Å—Å—ã–ª–∫–∞ –Ω–∞ –∞–≤–∞—Ç–∞—Ä, –ø—Ä–æ–±—É–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç—å
                if (this.currentUser.avatar_url) {
                    const avatarImg = userAvatar.querySelector('img');
                    if (avatarImg) {
                        avatarImg.src = this.currentUser.avatar_url;
                        avatarImg.style.display = 'block';
                        avatarImg.onerror = function() {
                            avatarImg.style.display = 'none';
                            userAvatar.classList.add('mona-lisa-avatar');
                        };
                    }
                }
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –º–µ–Ω—é
            if (menuUserName) menuUserName.textContent = this.currentUser.first_name || '–•—É–¥–æ–∂–Ω–∏–∫';
            if (menuUserEmail) menuUserEmail.textContent = this.currentUser.email || this.currentUser.phone || '';
            
            if (loginMenuBtn) loginMenuBtn.style.display = 'none';
            if (logoutMenuBtn) logoutMenuBtn.style.display = 'block';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏—é –∏ –∫–Ω–æ–ø–∫—É –∞–¥–º–∏–Ω–∞ –µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω –ø—Ä–æ—Ñ–∏–ª—å –∏ —Ñ–∏–ª–∏–∞–ª
            if (this.selectedProfile && this.selectedBranch) {
                if (bottomNav) bottomNav.style.display = 'flex';
                if (floatingBtn) floatingBtn.style.display = 'flex';
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ –ø—Ä–æ—Ñ–∏–ª–µ
                this.updateProfileStats();
            } else {
                if (bottomNav) bottomNav.style.display = 'none';
                if (floatingBtn) floatingBtn.style.display = 'none';
            }
            
        } else {
            // –ì–æ—Å—Ç—å
            if (userAvatar) {
                userAvatar.style.display = 'none';
                userAvatar.classList.remove('mona-lisa-avatar');
            }
            if (menuUserName) menuUserName.textContent = '–ì–æ—Å—Ç—å';
            if (menuUserEmail) menuUserEmail.textContent = '';
            
            if (loginMenuBtn) loginMenuBtn.style.display = 'block';
            if (logoutMenuBtn) logoutMenuBtn.style.display = 'none';
            if (bottomNav) bottomNav.style.display = 'none';
            if (floatingBtn) floatingBtn.style.display = 'none';
        }
    },
    
    updateProfileStats: function() {
        const statVisits = document.getElementById('statVisits');
        const statRemaining = document.getElementById('statRemaining');
        const statBranch = document.getElementById('statBranch');
        const profileName = document.getElementById('profileName');
        const profileEmail = document.getElementById('profileEmail');
        const profileAvatar = document.getElementById('profileAvatar');
        
        if (statVisits && this.subscriptionData) {
            const totalVisits = this.subscriptionData.visits ? this.subscriptionData.visits.length : 0;
            statVisits.textContent = totalVisits;
        }
        
        if (statRemaining && this.subscriptionData) {
            statRemaining.textContent = this.subscriptionData.remaining_classes || 0;
        }
        
        if (statBranch) {
            statBranch.textContent = this.selectedBranch ? this.selectedBranch.substring(0, 10) + (this.selectedBranch.length > 10 ? '...' : '') : '-';
        }
        
        if (profileName) {
            profileName.textContent = this.currentUser?.first_name || '–•—É–¥–æ–∂–Ω–∏–∫';
        }
        
        if (profileEmail) {
            profileEmail.textContent = this.currentUser?.email || this.currentUser?.phone || '';
        }
        
        if (profileAvatar && this.currentUser) {
            profileAvatar.classList.add('mona-lisa-avatar');
            
            if (this.currentUser.avatar_url) {
                const avatarImg = profileAvatar.querySelector('img');
                if (avatarImg) {
                    avatarImg.src = this.currentUser.avatar_url;
                    avatarImg.style.display = 'block';
                    avatarImg.onerror = function() {
                        avatarImg.style.display = 'none';
                        profileAvatar.classList.add('mona-lisa-avatar');
                    };
                }
            }
        }
    },
    
    // ==================== –ù–ê–í–ò–ì–ê–¶–ò–Ø ====================
    navigateToPage: function(pageId) {
        // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.querySelectorAll('.page').forEach(function(page) {
            page.classList.remove('active');
        });
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ü–µ–ª–µ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
        const targetPage = document.getElementById(pageId + '-page');
        if (targetPage) {
            targetPage.classList.add('active');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É –≤ –Ω–∏–∂–Ω–µ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            document.querySelectorAll('.nav-item').forEach(function(item) {
                item.classList.remove('active');
                if (item.getAttribute('data-page') === pageId) {
                    item.classList.add('active');
                }
            });
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            switch(pageId) {
                case 'home':
                    this.updateHomePage();
                    break;
                case 'schedule':
                    this.renderSchedulePage();
                    break;
                case 'subscription':
                    this.renderSubscriptionPage();
                    break;
                case 'teachers':
                    this.renderTeachersPage();
                    break;
                case 'faq':
                    this.renderFAQPage();
                    break;
                case 'news':
                    this.renderNewsPage();
                    break;
                case 'profile':
                    this.updateProfileStats();
                    break;
            }
            
            // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–µ–Ω—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            this.closeUserMenu();
        }
    },
    
    determineInitialScreen: function() {
        if (this.currentUser && this.selectedProfile && this.selectedBranch) {
            this.navigateToPage('home');
        } else {
            this.navigateToPage('auth');
        }
    },
    
    handleBackButton: function() {
        // –õ–æ–≥–∏–∫–∞ –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥" –≤ Telegram Web App
        const currentPage = document.querySelector('.page.active').id.replace('-page', '');
        
        if (currentPage === 'home') {
            if (window.Telegram && Telegram.WebApp) {
                Telegram.WebApp.close();
            }
        } else {
            this.navigateToPage('home');
        }
    },
    
    // ==================== –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø ====================
    showNotification: function(message, type) {
        const oldNotifications = document.querySelectorAll('.notification');
        oldNotifications.forEach(function(notif) {
            notif.remove();
        });
        
        const notification = document.createElement('div');
        notification.className = 'notification ' + (type || 'success');
        
        let icon = 'fas fa-palette';
        if (type === 'error') icon = 'fas fa-exclamation-circle';
        if (type === 'warning') icon = 'fas fa-exclamation-triangle';
        if (type === 'info') icon = 'fas fa-info-circle';
        if (type === 'success') icon = 'fas fa-check-circle';
        
        notification.innerHTML = '<i class="' + icon + '"></i><span>' + message + '</span>';
        document.body.appendChild(notification);
        
        setTimeout(function() {
            if (notification.parentNode) {
                notification.classList.add('hiding');
                setTimeout(function() {
                    if (notification.parentNode) notification.remove();
                }, 300);
            }
        }, 3000);
    },
    
    showLoading: function(message) {
        const loadingEl = document.createElement('div');
        loadingEl.id = 'globalLoading';
        loadingEl.style.cssText = 'position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255, 251, 240, 0.95); display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 9999; backdrop-filter: blur(5px);';
        loadingEl.innerHTML = '<div class="spinner"></div><p style="margin-top: 20px; color: var(--sketch-dark); font-weight: 500; font-family: \'Playfair Display\', serif;">' + (message || '–ó–∞–≥—Ä—É–∑–∫–∞...') + '</p>';
        document.body.appendChild(loadingEl);
    },
    
    hideLoading: function() {
        const loadingEl = document.getElementById('globalLoading');
        if (loadingEl) loadingEl.remove();
    },
    
    // ==================== –ú–û–î–ê–õ–¨–ù–´–ï –û–ö–ù–ê ====================
    closeModal: function(modalId) {
        const modal = document.getElementById(modalId);
        if (modal) modal.classList.remove('active');
    },
    
    closeUserMenu: function() {
        const menu = document.getElementById('userMenu');
        if (menu) menu.style.display = 'none';
    },
    
    toggleUserMenu: function() {
        const menu = document.getElementById('userMenu');
        if (menu) {
            menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
        }
    },
    
    // ==================== API –í–ó–ê–ò–ú–û–î–ï–ô–°–¢–í–ò–ï ====================
    fetchWithAuth: async function(url, options = {}) {
        const headers = {
            'Content-Type': 'application/json',
            ...options.headers
        };
        
        if (this.currentToken) {
            headers['Authorization'] = 'Bearer ' + this.currentToken;
        }
        
        if (this.currentUser && this.currentUser.id) {
            headers['X-User-Id'] = this.currentUser.id;
        }
        
        try {
            const response = await fetch(url, {
                ...options,
                headers
            });
            
            if (response.status === 401) {
                // –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω - —Ä–∞–∑–ª–æ–≥–∏–Ω–∏–≤–∞–µ–º
                this.logout();
                throw new Error('–°–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–ª–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞.');
            }
            
            return response;
        } catch (error) {
            console.error('–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞:', error);
            throw error;
        }
    },
    
    // ==================== –í–´–•–û–î ====================
    logout: function() {
        localStorage.removeItem('artStudio_user');
        localStorage.removeItem('artStudio_profile');
        localStorage.removeItem('artStudio_branch');
        localStorage.removeItem('token');
        
        this.currentUser = null;
        this.selectedProfile = null;
        this.selectedBranch = null;
        this.currentToken = null;
        
        this.updateUserInterface();
        this.navigateToPage('auth');
        
        this.showNotification('–í—ã —É—Å–ø–µ—à–Ω–æ –≤—ã—à–ª–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç—É–¥–∏–∏', 'success');
    },
    
    // ==================== –ú–û–ö –î–ê–ù–ù–´–ï –î–õ–Ø –†–ê–ó–†–ê–ë–û–¢–ö–ò ====================
    mockTelegramAuth: function() {
        this.showNotification('–†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: –∏–º–∏—Ç–∞—Ü–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç—É–¥–∏–∏', 'info');
        
        // –°–æ–∑–¥–∞–µ–º –º–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        this.currentUser = {
            id: 1,
            first_name: '–¢–≤–æ—Ä—á–µ—Å–∫–∏–π',
            last_name: '–•—É–¥–æ–∂–Ω–∏–∫',
            phone: '+79999999999',
            email: 'artist@example.com',
            avatar_url: ''
        };
        
        // –ú–æ–∫ –¥–∞–Ω–Ω—ã–µ –æ–± –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞—Ö –≤ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç—É–¥–∏–∏
        this.userProfiles = [
            {
                id: 1,
                deal_id: 101,
                student_name: '–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤',
                branch: '–°–≤–∏–±–ª–æ–≤–æ',
                subscription_type: '–•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∫—É—Ä—Å',
                remaining_classes: 5,
                total_classes: 12,
                teacher_name: '–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞',
                expiration_date: '2024-12-31'
            },
            {
                id: 2,
                deal_id: 102,
                student_name: '–ú–∞—Ä–∏—è –ò–≤–∞–Ω–æ–≤–∞',
                branch: '–ß–µ—Ä—Ç–∞–Ω–æ–≤–æ',
                subscription_type: '–ò–Ω—Ç–µ–Ω—Å–∏–≤ –ø–æ –∞–∫–≤–∞—Ä–µ–ª–∏',
                remaining_classes: 8,
                total_classes: 16,
                teacher_name: '–°–µ—Ä–≥–µ–π –°–º–∏—Ä–Ω–æ–≤',
                expiration_date: '2024-11-30'
            }
        ];
        
        if (this.userProfiles.length === 1) {
            this.selectedProfile = this.userProfiles[0];
            this.selectedBranch = this.selectedProfile.branch;
            this.loadProfileData();
        } else {
            this.showProfileSelection();
        }
        
        this.updateUserInterface();
    },
    
    getMockSchedule: function() {
        return [
            {
                id: 1,
                date: new Date(Date.now() + 86400000).toISOString().split('T')[0],
                day_of_week: '–ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫',
                start_time: '16:00',
                end_time: '17:30',
                title: '–û—Å–Ω–æ–≤—ã –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–æ–≥–æ —Ä–∏—Å—É–Ω–∫–∞',
                teacher_name: '–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞',
                status: 'normal',
                materials: '–ë—É–º–∞–≥–∞ –ê3, –≥—Ä–∞—Ñ–∏—Ç–Ω—ã–µ –∫–∞—Ä–∞–Ω–¥–∞—à–∏, –ª–∞—Å—Ç–∏–∫'
            },
            {
                id: 2,
                date: new Date(Date.now() + 2 * 86400000).toISOString().split('T')[0],
                day_of_week: '–≤—Ç–æ—Ä–Ω–∏–∫',
                start_time: '17:00',
                end_time: '18:30',
                title: '–ê–∫–≤–∞—Ä–µ–ª—å–Ω–∞—è –∂–∏–≤–æ–ø–∏—Å—å: –ø–µ–π–∑–∞–∂',
                teacher_name: '–°–µ—Ä–≥–µ–π –°–º–∏—Ä–Ω–æ–≤',
                status: 'normal',
                materials: '–ê–∫–≤–∞—Ä–µ–ª—å–Ω–∞—è –±—É–º–∞–≥–∞, –∫–∏—Å—Ç–∏, –∞–∫–≤–∞—Ä–µ–ª—å–Ω—ã–µ –∫—Ä–∞—Å–∫–∏'
            },
            {
                id: 3,
                date: new Date(Date.now() + 3 * 86400000).toISOString().split('T')[0],
                day_of_week: '—Å—Ä–µ–¥–∞',
                start_time: '15:30',
                end_time: '17:00',
                title: '–ü–æ—Ä—Ç—Ä–µ—Ç–Ω–∞—è –≥—Ä–∞—Ñ–∏–∫–∞',
                teacher_name: '–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞',
                status: 'changed',
                status_note: '–ó–∞–º–µ–Ω–∞ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è: –≤–º–µ—Å—Ç–æ –ê–Ω–Ω—ã –ü–µ—Ç—Ä–æ–≤–æ–π –∑–∞–Ω—è—Ç–∏–µ –≤–µ–¥–µ—Ç –ï–ª–µ–Ω–∞ –ö–æ–≤–∞–ª–µ–≤–∞',
                materials: '–ë—É–º–∞–≥–∞ –¥–ª—è –ø–∞—Å—Ç–µ–ª–∏, —É–≥–æ–ª—å, —Å–∞–Ω–≥–∏–Ω–∞'
            }
        ];
    },
    
    getMockSubscription: function() {
        return {
            subscription_type: '–•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∫—É—Ä—Å',
            branch: this.selectedBranch || '–°–≤–∏–±–ª–æ–≤–æ',
            total_classes: 12,
            remaining_classes: 5,
            expiration_date: '2024-12-31',
            next_payment_date: '2024-10-15',
            visits: [
                { date: '2024-01-15', time: '16:00', status: 'attended', teacher_name: '–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞' },
                { date: '2024-01-22', time: '16:00', status: 'attended', teacher_name: '–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞' },
                { date: '2024-01-29', time: '16:00', status: 'attended', teacher_name: '–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞' },
                { date: '2024-02-05', time: '16:00', status: 'attended', teacher_name: '–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞' },
                { date: '2024-02-12', time: '16:00', status: 'attended', teacher_name: '–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞' },
                { date: '2024-02-19', time: '16:00', status: 'attended', teacher_name: '–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞' },
                { date: '2024-02-26', time: '16:00', status: 'missed', teacher_name: '–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞' },
                { date: '2024-03-04', time: '16:00', status: 'attended', teacher_name: '–ï–ª–µ–Ω–∞ –ö–æ–≤–∞–ª–µ–≤–∞' },
                { date: '2024-03-11', time: '16:00', status: 'attended', teacher_name: '–ï–ª–µ–Ω–∞ –ö–æ–≤–∞–ª–µ–≤–∞' }
            ]
        };
    },
    
    getMockTeachers: function() {
        return [
            {
                id: 1,
                name: '–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞',
                qualification: '–•—É–¥–æ–∂–Ω–∏–∫-–ø–µ–¥–∞–≥–æ–≥, —á–ª–µ–Ω –°–æ—é–∑–∞ —Ö—É–¥–æ–∂–Ω–∏–∫–æ–≤ –†–æ—Å—Å–∏–∏',
                specialization: '–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–π —Ä–∏—Å—É–Ω–æ–∫, –≥—Ä–∞—Ñ–∏–∫–∞, –ø–æ—Ä—Ç—Ä–µ—Ç',
                branch: '–°–≤–∏–±–ª–æ–≤–æ',
                experience: '12 –ª–µ—Ç',
                avatar_url: 'https://via.placeholder.com/150/4A77B4/FFFFFF?text=–ê–ü'
            },
            {
                id: 2,
                name: '–°–µ—Ä–≥–µ–π –°–º–∏—Ä–Ω–æ–≤',
                qualification: '–•—É–¥–æ–∂–Ω–∏–∫-–∂–∏–≤–æ–ø–∏—Å–µ—Ü, –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å —Å 15-–ª–µ—Ç–Ω–∏–º —Å—Ç–∞–∂–µ–º',
                specialization: '–ê–∫–≤–∞—Ä–µ–ª—å, –º–∞—Å–ª—è–Ω–∞—è –∂–∏–≤–æ–ø–∏—Å—å, –ø–µ–π–∑–∞–∂',
                branch: '–ß–µ—Ä—Ç–∞–Ω–æ–≤–æ',
                experience: '15 –ª–µ—Ç',
                avatar_url: 'https://via.placeholder.com/150/9C6ADE/FFFFFF?text=–°–°'
            },
            {
                id: 3,
                name: '–ï–ª–µ–Ω–∞ –ö–æ–≤–∞–ª–µ–≤–∞',
                qualification: '–ò–ª–ª—é—Å—Ç—Ä–∞—Ç–æ—Ä, –¥–∏–∑–∞–π–Ω–µ—Ä, —É—á–∞—Å—Ç–Ω–∏–∫ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö –≤—ã—Å—Ç–∞–≤–æ–∫',
                specialization: '–°–∫–µ—Ç—á–∏–Ω–≥, –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è, –∫–æ–º–∏–∫—Å',
                branch: '–°–≤–∏–±–ª–æ–≤–æ',
                experience: '8 –ª–µ—Ç',
                avatar_url: 'https://via.placeholder.com/150/FFC145/FFFFFF?text=–ï–ö'
            }
        ];
    },
    
    getMockFAQ: function() {
        return [
            {
                question: '–ö–∞–∫ –ø—Ä–æ–¥–ª–∏—Ç—å –∞–±–æ–Ω–µ–º–µ–Ω—Ç –≤ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç—É–¥–∏–∏?',
                answer: '–î–ª—è –ø—Ä–æ–¥–ª–µ–Ω–∏—è –∞–±–æ–Ω–µ–º–µ–Ω—Ç–∞ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –≤–∞—à–µ–π —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç—É–¥–∏–∏ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É "–°–≤—è–∑–∞—Ç—å—Å—è —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º" –≤ —Ä–∞–∑–¥–µ–ª–µ "–ê–±–æ–Ω–µ–º–µ–Ω—Ç". –í—ã –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–≤—è–∑–∏: —á–∞—Ç –∏–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã–π –∑–≤–æ–Ω–æ–∫.',
                category: '–ê–±–æ–Ω–µ–º–µ–Ω—Ç'
            },
            {
                question: '–ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ?',
                answer: '–ï—Å–ª–∏ –≤—ã –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç–µ –∑–∞–Ω—è—Ç–∏–µ –ø–æ —É–≤–∞–∂–∏—Ç–µ–ª—å–Ω–æ–π –ø—Ä–∏—á–∏–Ω–µ, —Å–æ–æ–±—â–∏—Ç–µ –æ–± —ç—Ç–æ–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –∑–∞ 24 —á–∞—Å–∞. –í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö –≤–æ–∑–º–æ–∂–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∑–∞–Ω—è—Ç–∏–µ –∏–ª–∏ –ø–æ–ª—É—á–∏—Ç—å –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É—Ç–æ—á–Ω—è–π—Ç–µ —É—Å–ª–æ–≤–∏—è –≤ –≤–∞—à–µ–π —Å—Ç—É–¥–∏–∏.',
                category: '–ó–∞–Ω—è—Ç–∏—è'
            },
            {
                question: '–ö–∞–∫–∏–µ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –Ω—É–∂–Ω—ã –¥–ª—è –∑–∞–Ω—è—Ç–∏–π?',
                answer: '–û—Å–Ω–æ–≤–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã (–±—É–º–∞–≥–∞, –∫—Ä–∞—Å–∫–∏, –∫–∞—Ä–∞–Ω–¥–∞—à–∏, –∫–∏—Å—Ç–∏) –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç—É–¥–∏–µ–π. –î–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–Ω—è—Ç–∏–π –º–æ–≥—É—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –æ —á–µ–º –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∏—Ç –∑–∞—Ä–∞–Ω–µ–µ. –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –∏–º–µ—Ç—å –ª–∏—á–Ω—ã–π –Ω–∞–±–æ—Ä –¥–ª—è –¥–æ–º–∞—à–Ω–µ–π –ø—Ä–∞–∫—Ç–∏–∫–∏.',
                category: '–ú–∞—Ç–µ—Ä–∏–∞–ª—ã'
            },
            {
                question: '–ú–æ–∂–Ω–æ –ª–∏ –ø–æ—Å–µ—â–∞—Ç—å —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è –≤ –¥—Ä—É–≥–æ–π —Å—Ç—É–¥–∏–∏?',
                answer: '–î–∞, –ø–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–º—É —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—é —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏ –æ–±–µ–∏—Ö —Å—Ç—É–¥–∏–π –≤–æ–∑–º–æ–∂–Ω–æ —Ä–∞–∑–æ–≤–æ–µ –ø–æ—Å–µ—â–µ–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π –≤ –¥—Ä—É–≥–æ–π —Å—Ç—É–¥–∏–∏. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É—Ç–æ—á–Ω—è–π—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞—Ä–∞–Ω–µ–µ.',
                category: '–°—Ç—É–¥–∏–∏'
            }
        ];
    },
    
    getMockNews: function() {
        return [
            {
                id: 1,
                title: '–í—ã—Å—Ç–∞–≤–∫–∞ —Ä–∞–±–æ—Ç —É—á–µ–Ω–∏–∫–æ–≤ "–û—Å–µ–Ω–Ω–∏–µ –º–æ—Ç–∏–≤—ã"',
                date: new Date(Date.now() - 7 * 86400000).toISOString(),
                preview: '–ü—Ä–∏–≥–ª–∞—à–∞–µ–º –Ω–∞ –≤—ã—Å—Ç–∞–≤–∫—É –ª—É—á—à–∏—Ö —Ä–∞–±–æ—Ç –Ω–∞—à–∏—Ö —É—á–µ–Ω–∏–∫–æ–≤, –ø–æ—Å–≤—è—â–µ–Ω–Ω—É—é –æ—Å–µ–Ω–Ω–µ–π —Ç–µ–º–∞—Ç–∏–∫–µ',
                content: '–° 15 –ø–æ 30 –æ–∫—Ç—è–±—Ä—è –≤ —Ö–æ–ª–ª–µ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç—É–¥–∏–∏ –±—É–¥–µ—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –≤—ã—Å—Ç–∞–≤–∫–∞ —Ä–∞–±–æ—Ç –Ω–∞—à–∏—Ö —É—á–µ–Ω–∏–∫–æ–≤ "–û—Å–µ–Ω–Ω–∏–µ –º–æ—Ç–∏–≤—ã". –í—ã —Å–º–æ–∂–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å —É—á–µ–Ω–∏–∫–æ–≤ –∑–∞ –ø—Ä–æ—à–µ–¥—à–∏–π –≥–æ–¥ –∏ –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —Ç–µ—Ö–Ω–∏–∫–∞–º–∏: –∞–∫–≤–∞—Ä–µ–ª—å, –º–∞—Å–ª–æ, –≥—Ä–∞—Ñ–∏–∫–∞. –û—Ç–∫—Ä—ã—Ç–∏–µ –≤—ã—Å—Ç–∞–≤–∫–∏ —Å–æ—Å—Ç–æ–∏—Ç—Å—è 15 –æ–∫—Ç—è–±—Ä—è –≤ 18:00.',
                image_url: 'https://via.placeholder.com/600x300/4A77B4/FFFFFF?text=–û—Å–µ–Ω–Ω—è—è+–≤—ã—Å—Ç–∞–≤–∫–∞',
                category: '–í—ã—Å—Ç–∞–≤–∫–∞',
                author: '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è —Å—Ç—É–¥–∏–∏',
                tags: '–≤—ã—Å—Ç–∞–≤–∫–∞,–æ—Å–µ–Ω—å,—É—á–µ–Ω–∏–∫–∏'
            },
            {
                id: 2,
                title: '–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å –ø–æ –∞–∫–≤–∞—Ä–µ–ª–∏ "–ì–æ—Ä–æ–¥—Å–∫–æ–π –ø–µ–π–∑–∞–∂"',
                date: new Date(Date.now() - 3 * 86400000).toISOString(),
                preview: '–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å –ø–æ –∞–∫–≤–∞—Ä–µ–ª—å–Ω–æ–π –∂–∏–≤–æ–ø–∏—Å–∏ –¥–ª—è –≤—Å–µ—Ö –∂–µ–ª–∞—é—â–∏—Ö',
                content: '20 –æ–∫—Ç—è–±—Ä—è –≤ 18:00 —Å–æ—Å—Ç–æ–∏—Ç—Å—è –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å –ø–æ –∞–∫–≤–∞—Ä–µ–ª—å–Ω–æ–π –∂–∏–≤–æ–ø–∏—Å–∏ "–ì–æ—Ä–æ–¥—Å–∫–æ–π –ø–µ–π–∑–∞–∂" –¥–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö. –í–µ–¥—É—â–∏–π - —Ö—É–¥–æ–∂–Ω–∏–∫ –°–µ—Ä–≥–µ–π –°–º–∏—Ä–Ω–æ–≤. –í—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ, –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.',
                image_url: 'https://via.placeholder.com/600x300/9C6ADE/FFFFFF?text=–ê–∫–≤–∞—Ä–µ–ª—å–Ω—ã–π+–º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å',
                category: '–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å',
                author: '–°–µ—Ä–≥–µ–π –°–º–∏—Ä–Ω–æ–≤',
                tags: '–º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å,–∞–∫–≤–∞—Ä–µ–ª—å,–ø–µ–π–∑–∞–∂'
            },
            {
                id: 3,
                title: '–õ–µ—Ç–Ω–∏–π –∏–Ω—Ç–µ–Ω—Å–∏–≤ –ø–æ —Ä–∏—Å–æ–≤–∞–Ω–∏—é –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö',
                date: new Date().toISOString(),
                preview: '–ó–∞–ø–∏—Å—å –Ω–∞ –ª–µ—Ç–Ω–∏–µ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–µ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫—É—Ä—Å—ã –æ—Ç–∫—Ä—ã—Ç–∞',
                content: '–° 1 –∏—é–Ω—è —Å—Ç–∞—Ä—Ç—É—é—Ç –ª–µ—Ç–Ω–∏–µ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–µ –∫—É—Ä—Å—ã –¥–ª—è –¥–µ—Ç–µ–π –∏ –≤–∑—Ä–æ—Å–ª—ã—Ö. –ó–∞ –º–µ—Å—è—Ü –≤—ã –æ—Å–≤–æ–∏—Ç–µ –æ—Å–Ω–æ–≤—ã —Ä–∏—Å—É–Ω–∫–∞ –∏ –∂–∏–≤–æ–ø–∏—Å–∏: –∫–æ–º–ø–æ–∑–∏—Ü–∏—è, –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–∞, —Ä–∞–±–æ—Ç–∞ —Å —Ü–≤–µ—Ç–æ–º, —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏. –ì—Ä—É–ø–ø—ã —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É –∏ —É—Ä–æ–≤–Ω—é –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏. –°–ø–µ—à–∏—Ç–µ –∑–∞–ø–∏—Å–∞—Ç—å—Å—è!',
                image_url: 'https://via.placeholder.com/600x300/FFC145/FFFFFF?text=–õ–µ—Ç–Ω–∏–π+—Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π+–∫—É—Ä—Å',
                category: '–ö—É—Ä—Å—ã',
                author: '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è —Å—Ç—É–¥–∏–∏',
                tags: '–∫—É—Ä—Å—ã,–ª–µ—Ç–æ,–¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö'
            }
        ];
    },
    
    // ==================== –û–ë–†–ê–ë–û–¢–ß–ò–ö–ò –°–û–ë–´–¢–ò–ô ====================
    setupEventListeners: function() {
        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –∏—Ö
        document.addEventListener('click', (event) => {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (modal.classList.contains('active') && 
                    !event.target.closest('.modal-content') && 
                    !event.target.closest('[onclick*="show"]')) {
                    modal.classList.remove('active');
                }
            });
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            const userMenu = document.getElementById('userMenu');
            if (userMenu && userMenu.style.display === 'block' && 
                !event.target.closest('#userMenu') && 
                !event.target.closest('#userAvatar')) {
                userMenu.style.display = 'none';
            }
        });
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∞–≤–∏—à–∏ Escape
        document.addEventListener('keydown', (event) => {
            if (event.key === 'Escape') {
                this.closeAllModals();
                this.closeUserMenu();
            }
        });
    },
    
    closeAllModals: function() {
        document.querySelectorAll('.modal').forEach(modal => {
            modal.classList.remove('active');
        });
    }
};

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
document.addEventListener('DOMContentLoaded', function() {
    // –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –Ω–µ–±–æ–ª—å—à–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π
    setTimeout(function() {
        app.init();
    }, 100);
});

// –î–µ–ª–∞–µ–º app –≥–ª–æ–±–∞–ª—å–Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã–º
window.app = app;
</script>
</body>
</html>
